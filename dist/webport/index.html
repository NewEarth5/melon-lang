<!doctype html><html><head><meta charset="utf-8"><title>melon webport</title><meta name="viewport" content="width=device-width,initial-scale=1"><script defer="defer">(()=>{var e={193:function(e,t,r){var n,i;
/*!
 * https://github.com/paulmillr/es6-shim
 * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
 *   and contributors,  MIT License
 * es6-shim: v0.35.4
 * see https://github.com/paulmillr/es6-shim/blob/0.35.3/LICENSE
 * Details and documentation:
 * https://github.com/paulmillr/es6-shim/
 */n=function(){"use strict";var e,t=Function.call.bind(Function.apply),n=Function.call.bind(Function.call),i=Array.isArray,s=Object.keys,o=function(e){return function(){return!t(e,this,arguments)}},a=function(e){try{return e(),!1}catch(e){return!0}},p=function(e){try{return e()}catch(e){return!1}},u=o(a),c=function(){return!a((function(){return Object.defineProperty({},"x",{get:function(){}})}))},l=!!Object.defineProperty&&c(),h="foo"===function(){}.name,f=Function.call.bind(Array.prototype.forEach),y=Function.call.bind(Array.prototype.reduce),d=Function.call.bind(Array.prototype.filter),v=Function.call.bind(Array.prototype.some),g=function(e,t,r,n){!n&&t in e||(l?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:r}):e[t]=r)},m=function(e,t,r){f(s(t),(function(n){var i=t[n];g(e,n,i,!!r)}))},_=Function.call.bind(Object.prototype.toString),b=function(e){return"function"==typeof e},w={getter:function(e,t,r){if(!l)throw new TypeError("getters require true ES5 support");Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:r})},proxy:function(e,t,r){if(!l)throw new TypeError("getters require true ES5 support");var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,{configurable:n.configurable,enumerable:n.enumerable,get:function(){return e[t]},set:function(r){e[t]=r}})},redefine:function(e,t,r){if(l){var n=Object.getOwnPropertyDescriptor(e,t);n.value=r,Object.defineProperty(e,t,n)}else e[t]=r},defineByDescriptor:function(e,t,r){l?Object.defineProperty(e,t,r):"value"in r&&(e[t]=r.value)},preserveToString:function(e,t){t&&b(t.toString)&&g(e,"toString",t.toString.bind(t),!0)}},N=Object.create||function(e,t){var r=function(){};r.prototype=e;var n=new r;return void 0!==t&&s(t).forEach((function(e){w.defineByDescriptor(n,e,t[e])})),n},O=function(e,t){return!!Object.setPrototypeOf&&p((function(){var r=function t(r){var n=new e(r);return Object.setPrototypeOf(n,t.prototype),n};return Object.setPrototypeOf(r,e),r.prototype=N(e.prototype,{constructor:{value:r}}),t(r)}))},S=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}(),T=S.isFinite,E=Function.call.bind(String.prototype.indexOf),k=Function.apply.bind(Array.prototype.indexOf),x=Function.call.bind(Array.prototype.concat),A=Function.call.bind(String.prototype.slice),I=Function.call.bind(Array.prototype.push),M=Function.apply.bind(Array.prototype.push),C=Function.call.bind(Array.prototype.join),j=Function.call.bind(Array.prototype.shift),P=Math.max,L=Math.min,R=Math.floor,D=Math.abs,U=Math.exp,F=Math.log,G=Math.sqrt,B=Function.call.bind(Object.prototype.hasOwnProperty),$=function(){},V=S.Map,q=V&&V.prototype.delete,z=V&&V.prototype.get,W=V&&V.prototype.has,K=V&&V.prototype.set,H=S.Symbol||{},J=H.species||"@@species",Q=Number.isNaN||function(e){return e!=e},Y=Number.isFinite||function(e){return"number"==typeof e&&T(e)},X=b(Math.sign)?Math.sign:function(e){var t=Number(e);return 0===t||Q(t)?t:t<0?-1:1},Z=function(e){var t=Number(e);return t<-1||Q(t)?NaN:0===t||t===1/0?t:-1===t?-1/0:1+t-1==0?t:t*(F(1+t)/(1+t-1))},ee=function(e){return"[object Arguments]"===_(e)},te=function(e){return null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==_(e)&&"[object Function]"===_(e.callee)},re=ee(arguments)?ee:te,ne={primitive:function(e){return null===e||"function"!=typeof e&&"object"!=typeof e},string:function(e){return"[object String]"===_(e)},regex:function(e){return"[object RegExp]"===_(e)},symbol:function(e){return"function"==typeof S.Symbol&&"symbol"==typeof e}},ie=function(e,t,r){var n=e[t];g(e,t,r,!0),w.preserveToString(e[t],n)},se="function"==typeof H&&"function"==typeof H.for&&ne.symbol(H()),oe=ne.symbol(H.iterator)?H.iterator:"_es6-shim iterator_";S.Set&&"function"==typeof(new S.Set)["@@iterator"]&&(oe="@@iterator"),S.Reflect||g(S,"Reflect",{},!0);var ae,pe=S.Reflect,ue=String,ce="undefined"!=typeof document&&document?document.all:null,le=null==ce?function(e){return null==e}:function(e){return null==e&&e!==ce},he={Call:function(e,r){var n=arguments.length>2?arguments[2]:[];if(!he.IsCallable(e))throw new TypeError(e+" is not a function");return t(e,r,n)},RequireObjectCoercible:function(e,t){if(le(e))throw new TypeError(t||"Cannot call method on "+e);return e},TypeIsObject:function(e){return null!=e&&!0!==e&&!1!==e&&("function"==typeof e||"object"==typeof e||e===ce)},ToObject:function(e,t){return Object(he.RequireObjectCoercible(e,t))},IsCallable:b,IsConstructor:function(e){return he.IsCallable(e)},ToInt32:function(e){return 0|he.ToNumber(e)},ToUint32:function(e){return he.ToNumber(e)>>>0},ToNumber:function(e){if(se&&"[object Symbol]"===_(e))throw new TypeError("Cannot convert a Symbol value to a number");return+e},ToInteger:function(e){var t=he.ToNumber(e);return Q(t)?0:0!==t&&Y(t)?(t>0?1:-1)*R(D(t)):t},ToLength:function(e){var t=he.ToInteger(e);return t<=0?0:t>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t},SameValue:function(e,t){return e===t?0!==e||1/e==1/t:Q(e)&&Q(t)},SameValueZero:function(e,t){return e===t||Q(e)&&Q(t)},GetIterator:function(t){if(re(t))return new e(t,"value");var r=he.GetMethod(t,oe);if(!he.IsCallable(r))throw new TypeError("value is not an iterable");var n=he.Call(r,t);if(!he.TypeIsObject(n))throw new TypeError("bad iterator");return n},GetMethod:function(e,t){var r=he.ToObject(e)[t];if(!le(r)){if(!he.IsCallable(r))throw new TypeError("Method not callable: "+t);return r}},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var r=he.GetMethod(e,"return");if(void 0!==r){var n,i;try{n=he.Call(r,e)}catch(e){i=e}if(!t){if(i)throw i;if(!he.TypeIsObject(n))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!he.TypeIsObject(t))throw new TypeError("bad iterator");return t},IteratorStep:function(e){var t=he.IteratorNext(e);return!he.IteratorComplete(t)&&t},Construct:function(e,t,r,n){var i=void 0===r?e:r;if(!n&&pe.construct)return pe.construct(e,t,i);var s=i.prototype;he.TypeIsObject(s)||(s=Object.prototype);var o=N(s),a=he.Call(e,o,t);return he.TypeIsObject(a)?a:o},SpeciesConstructor:function(e,t){var r=e.constructor;if(void 0===r)return t;if(!he.TypeIsObject(r))throw new TypeError("Bad constructor");var n=r[J];if(le(n))return t;if(!he.IsConstructor(n))throw new TypeError("Bad @@species");return n},CreateHTML:function(e,t,r,n){var i=he.ToString(e),s="<"+t;return""!==r&&(s+=" "+r+'="'+he.ToString(n).replace(/"/g,"&quot;")+'"'),s+">"+i+"</"+t+">"},IsRegExp:function(e){if(!he.TypeIsObject(e))return!1;var t=e[H.match];return void 0!==t?!!t:ne.regex(e)},ToString:function(e){if(se&&"[object Symbol]"===_(e))throw new TypeError("Cannot convert a Symbol value to a number");return ue(e)}};if(l&&se){var fe=function(e){if(ne.symbol(H[e]))return H[e];var t=H.for("Symbol."+e);return Object.defineProperty(H,e,{configurable:!1,enumerable:!1,writable:!1,value:t}),t};if(!ne.symbol(H.search)){var ye=fe("search"),de=String.prototype.search;g(RegExp.prototype,ye,(function(e){return he.Call(de,e,[this])}));var ve=function(e){var t=he.RequireObjectCoercible(this);if(!le(e)){var r=he.GetMethod(e,ye);if(void 0!==r)return he.Call(r,e,[t])}return he.Call(de,t,[he.ToString(e)])};ie(String.prototype,"search",ve)}if(!ne.symbol(H.replace)){var ge=fe("replace"),me=String.prototype.replace;g(RegExp.prototype,ge,(function(e,t){return he.Call(me,e,[this,t])}));var _e=function(e,t){var r=he.RequireObjectCoercible(this);if(!le(e)){var n=he.GetMethod(e,ge);if(void 0!==n)return he.Call(n,e,[r,t])}return he.Call(me,r,[he.ToString(e),t])};ie(String.prototype,"replace",_e)}if(!ne.symbol(H.split)){var be=fe("split"),we=String.prototype.split;g(RegExp.prototype,be,(function(e,t){return he.Call(we,e,[this,t])}));var Ne=function(e,t){var r=he.RequireObjectCoercible(this);if(!le(e)){var n=he.GetMethod(e,be);if(void 0!==n)return he.Call(n,e,[r,t])}return he.Call(we,r,[he.ToString(e),t])};ie(String.prototype,"split",Ne)}var Oe=ne.symbol(H.match),Se=Oe&&((ae={})[H.match]=function(){return 42},42!=="a".match(ae));if(!Oe||Se){var Te=fe("match"),Ee=String.prototype.match;g(RegExp.prototype,Te,(function(e){return he.Call(Ee,e,[this])}));var ke=function(e){var t=he.RequireObjectCoercible(this);if(!le(e)){var r=he.GetMethod(e,Te);if(void 0!==r)return he.Call(r,e,[t])}return he.Call(Ee,t,[he.ToString(e)])};ie(String.prototype,"match",ke)}}var xe=function(e,t,r){w.preserveToString(t,e),Object.setPrototypeOf&&Object.setPrototypeOf(e,t),l?f(Object.getOwnPropertyNames(e),(function(n){n in $||r[n]||w.proxy(e,n,t)})):f(Object.keys(e),(function(n){n in $||r[n]||(t[n]=e[n])})),t.prototype=e.prototype,w.redefine(e.prototype,"constructor",t)},Ae=function(){return this},Ie=function(e){l&&!B(e,J)&&w.getter(e,J,Ae)},Me=function(e,t){var r=t||function(){return this};g(e,oe,r),!e[oe]&&ne.symbol(oe)&&(e[oe]=r)},Ce=function(e,t,r){l?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:r}):e[t]=r},je=function(e,t,r){if(Ce(e,t,r),!he.SameValue(e[t],r))throw new TypeError("property is nonconfigurable")},Pe=function(e,t,r,n){if(!he.TypeIsObject(e))throw new TypeError("Constructor requires `new`: "+t.name);var i=t.prototype;he.TypeIsObject(i)||(i=r);var s=N(i);for(var o in n)if(B(n,o)){var a=n[o];g(s,o,a,!0)}return s};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var Le=String.fromCodePoint;ie(String,"fromCodePoint",(function(e){return he.Call(Le,this,arguments)}))}var Re={fromCodePoint:function(e){for(var t,r=[],n=0,i=arguments.length;n<i;n++){if(t=Number(arguments[n]),!he.SameValue(t,he.ToInteger(t))||t<0||t>1114111)throw new RangeError("Invalid code point "+t);t<65536?I(r,String.fromCharCode(t)):(t-=65536,I(r,String.fromCharCode(55296+(t>>10))),I(r,String.fromCharCode(t%1024+56320)))}return C(r,"")},raw:function(e){var t=he.ToObject(e,"bad template"),r=he.ToObject(t.raw,"bad raw value"),n=r.length,i=he.ToLength(n);if(i<=0)return"";for(var s,o,a,p,u=[],c=0;c<i&&(s=he.ToString(c),a=he.ToString(r[s]),I(u,a),!(c+1>=i));)o=c+1<arguments.length?arguments[c+1]:"",p=he.ToString(o),I(u,p),c+=1;return C(u,"")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&ie(String,"raw",Re.raw),m(String,Re);var De=function e(t,r){if(r<1)return"";if(r%2)return e(t,r-1)+t;var n=e(t,r/2);return n+n},Ue=1/0,Fe={repeat:function(e){var t=he.ToString(he.RequireObjectCoercible(this)),r=he.ToInteger(e);if(r<0||r>=Ue)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return De(t,r)},startsWith:function(e){var t=he.ToString(he.RequireObjectCoercible(this));if(he.IsRegExp(e))throw new TypeError('Cannot call method "startsWith" with a regex');var r,n=he.ToString(e);arguments.length>1&&(r=arguments[1]);var i=P(he.ToInteger(r),0);return A(t,i,i+n.length)===n},endsWith:function(e){var t=he.ToString(he.RequireObjectCoercible(this));if(he.IsRegExp(e))throw new TypeError('Cannot call method "endsWith" with a regex');var r,n=he.ToString(e),i=t.length;arguments.length>1&&(r=arguments[1]);var s=void 0===r?i:he.ToInteger(r),o=L(P(s,0),i);return A(t,o-n.length,o)===n},includes:function(e){if(he.IsRegExp(e))throw new TypeError('"includes" does not accept a RegExp');var t,r=he.ToString(e);return arguments.length>1&&(t=arguments[1]),-1!==E(this,r,t)},codePointAt:function(e){var t=he.ToString(he.RequireObjectCoercible(this)),r=he.ToInteger(e),n=t.length;if(r>=0&&r<n){var i=t.charCodeAt(r);if(i<55296||i>56319||r+1===n)return i;var s=t.charCodeAt(r+1);return s<56320||s>57343?i:1024*(i-55296)+(s-56320)+65536}}};if(String.prototype.includes&&!1!=="a".includes("a",1/0)&&ie(String.prototype,"includes",Fe.includes),String.prototype.startsWith&&String.prototype.endsWith){var Ge=a((function(){return"/a/".startsWith(/a/)})),Be=p((function(){return!1==="abc".startsWith("a",1/0)}));Ge&&Be||(ie(String.prototype,"startsWith",Fe.startsWith),ie(String.prototype,"endsWith",Fe.endsWith))}se&&(p((function(){var e=/a/;return e[H.match]=!1,"/a/".startsWith(e)}))||ie(String.prototype,"startsWith",Fe.startsWith),p((function(){var e=/a/;return e[H.match]=!1,"/a/".endsWith(e)}))||ie(String.prototype,"endsWith",Fe.endsWith),p((function(){var e=/a/;return e[H.match]=!1,"/a/".includes(e)}))||ie(String.prototype,"includes",Fe.includes)),m(String.prototype,Fe);var $e=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),Ve=new RegExp("(^["+$e+"]+)|(["+$e+"]+$)","g"),qe=function(){return he.ToString(he.RequireObjectCoercible(this)).replace(Ve,"")},ze=["","​","￾"].join(""),We=new RegExp("["+ze+"]","g"),Ke=/^[-+]0x[0-9a-f]+$/i,He=ze.trim().length!==ze.length;g(String.prototype,"trim",qe,He);var Je=function(e){return{value:e,done:0===arguments.length}},Qe=function(e){he.RequireObjectCoercible(e),g(this,"_s",he.ToString(e)),g(this,"_i",0)};Qe.prototype.next=function(){var e=this._s,t=this._i;if(void 0===e||t>=e.length)return this._s=void 0,Je();var r,n,i=e.charCodeAt(t);return n=i<55296||i>56319||t+1===e.length||(r=e.charCodeAt(t+1))<56320||r>57343?1:2,this._i=t+n,Je(e.substr(t,n))},Me(Qe.prototype),Me(String.prototype,(function(){return new Qe(this)}));var Ye={from:function(e){var t,r,i,s,o,a,p=this;if(arguments.length>1&&(t=arguments[1]),void 0===t)r=!1;else{if(!he.IsCallable(t))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2]),r=!0}if(void 0!==(re(e)||he.GetMethod(e,oe))){o=he.IsConstructor(p)?Object(new p):[];var u,c,l=he.GetIterator(e);for(a=0;!1!==(u=he.IteratorStep(l));){c=u.value;try{r&&(c=void 0===i?t(c,a):n(t,i,c,a)),o[a]=c}catch(e){throw he.IteratorClose(l,!0),e}a+=1}s=a}else{var h,f=he.ToObject(e);for(s=he.ToLength(f.length),o=he.IsConstructor(p)?Object(new p(s)):new Array(s),a=0;a<s;++a)h=f[a],r&&(h=void 0===i?t(h,a):n(t,i,h,a)),je(o,a,h)}return o.length=s,o},of:function(){for(var e=arguments.length,t=this,r=i(t)||!he.IsCallable(t)?new Array(e):he.Construct(t,[e]),n=0;n<e;++n)je(r,n,arguments[n]);return r.length=e,r}};m(Array,Ye),Ie(Array),m((e=function(e,t){g(this,"i",0),g(this,"array",e),g(this,"kind",t)}).prototype,{next:function(){var t=this.i,r=this.array;if(!(this instanceof e))throw new TypeError("Not an ArrayIterator");if(void 0!==r&&t<he.ToLength(r.length)){var n,i=this.kind;return"key"===i?n=t:"value"===i?n=r[t]:"entry"===i&&(n=[t,r[t]]),this.i=t+1,Je(n)}return this.array=void 0,Je()}}),Me(e.prototype),Array.of===Ye.of||function(){var e=function(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&2===t.length}()||ie(Array,"of",Ye.of);var Xe={copyWithin:function(e,t){var r,n=he.ToObject(this),i=he.ToLength(n.length),s=he.ToInteger(e),o=he.ToInteger(t),a=s<0?P(i+s,0):L(s,i),p=o<0?P(i+o,0):L(o,i);arguments.length>2&&(r=arguments[2]);var u=void 0===r?i:he.ToInteger(r),c=u<0?P(i+u,0):L(u,i),l=L(c-p,i-a),h=1;for(p<a&&a<p+l&&(h=-1,p+=l-1,a+=l-1);l>0;)p in n?n[a]=n[p]:delete n[a],p+=h,a+=h,l-=1;return n},fill:function(e){var t,r;arguments.length>1&&(t=arguments[1]),arguments.length>2&&(r=arguments[2]);var n=he.ToObject(this),i=he.ToLength(n.length);t=he.ToInteger(void 0===t?0:t);for(var s=(r=he.ToInteger(void 0===r?i:r))<0?i+r:r,o=t<0?P(i+t,0):L(t,i);o<i&&o<s;++o)n[o]=e;return n},find:function(e){var t=he.ToObject(this),r=he.ToLength(t.length);if(!he.IsCallable(e))throw new TypeError("Array#find: predicate must be a function");for(var i,s=arguments.length>1?arguments[1]:null,o=0;o<r;o++)if(i=t[o],s){if(n(e,s,i,o,t))return i}else if(e(i,o,t))return i},findIndex:function(e){var t=he.ToObject(this),r=he.ToLength(t.length);if(!he.IsCallable(e))throw new TypeError("Array#findIndex: predicate must be a function");for(var i=arguments.length>1?arguments[1]:null,s=0;s<r;s++)if(i){if(n(e,i,t[s],s,t))return s}else if(e(t[s],s,t))return s;return-1},keys:function(){return new e(this,"key")},values:function(){return new e(this,"value")},entries:function(){return new e(this,"entry")}};if(Array.prototype.keys&&!he.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!he.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[oe]&&(m(Array.prototype,{values:Array.prototype[oe]}),ne.symbol(H.unscopables)&&(Array.prototype[H.unscopables].values=!0)),h&&Array.prototype.values&&"values"!==Array.prototype.values.name){var Ze=Array.prototype.values;ie(Array.prototype,"values",(function(){return he.Call(Ze,this,arguments)})),g(Array.prototype,oe,Array.prototype.values,!0)}if(m(Array.prototype,Xe),1/[!0].indexOf(!0,-0)<0&&g(Array.prototype,"indexOf",(function(e){var t=k(this,arguments);return 0===t&&1/t<0?0:t}),!0),Me(Array.prototype,(function(){return this.values()})),Object.getPrototypeOf){var et=Object.getPrototypeOf([].values());et&&Me(et)}var tt,rt=p((function(){return 0===Array.from({length:-1}).length})),nt=1===(tt=Array.from([0].entries())).length&&i(tt[0])&&0===tt[0][0]&&0===tt[0][1];if(rt&&nt||ie(Array,"from",Ye.from),!p((function(){return Array.from([0],void 0)}))){var it=Array.from;ie(Array,"from",(function(e){return arguments.length>1&&void 0!==arguments[1]?he.Call(it,this,arguments):n(it,this,e)}))}var st=-(Math.pow(2,32)-1),ot=function(e,t){var r={length:st};return r[t?(r.length>>>0)-1:0]=!0,p((function(){return n(e,r,(function(){throw new RangeError("should not reach here")}),[]),!0}))};if(!ot(Array.prototype.forEach)){var at=Array.prototype.forEach;ie(Array.prototype,"forEach",(function(e){return he.Call(at,this.length>=0?this:[],arguments)}))}if(!ot(Array.prototype.map)){var pt=Array.prototype.map;ie(Array.prototype,"map",(function(e){return he.Call(pt,this.length>=0?this:[],arguments)}))}if(!ot(Array.prototype.filter)){var ut=Array.prototype.filter;ie(Array.prototype,"filter",(function(e){return he.Call(ut,this.length>=0?this:[],arguments)}))}if(!ot(Array.prototype.some)){var ct=Array.prototype.some;ie(Array.prototype,"some",(function(e){return he.Call(ct,this.length>=0?this:[],arguments)}))}if(!ot(Array.prototype.every)){var lt=Array.prototype.every;ie(Array.prototype,"every",(function(e){return he.Call(lt,this.length>=0?this:[],arguments)}))}if(!ot(Array.prototype.reduce)){var ht=Array.prototype.reduce;ie(Array.prototype,"reduce",(function(e){return he.Call(ht,this.length>=0?this:[],arguments)}))}if(!ot(Array.prototype.reduceRight,!0)){var ft=Array.prototype.reduceRight;ie(Array.prototype,"reduceRight",(function(e){return he.Call(ft,this.length>=0?this:[],arguments)}))}var yt=8!==Number("0o10"),dt=2!==Number("0b10"),vt=v(ze,(function(e){return 0===Number(e+0+e)}));if(yt||dt||vt){var gt=Number,mt=/^0b[01]+$/i,_t=/^0o[0-7]+$/i,bt=mt.test.bind(mt),wt=_t.test.bind(_t),Nt=function(e,t){var r;if("function"==typeof e.valueOf&&(r=e.valueOf(),ne.primitive(r)))return r;if("function"==typeof e.toString&&(r=e.toString(),ne.primitive(r)))return r;throw new TypeError("No default value")},Ot=We.test.bind(We),St=Ke.test.bind(Ke),Tt=function(){var e=function(t){var r;"string"==typeof(r=arguments.length>0?ne.primitive(t)?t:Nt(t,"number"):0)&&(r=he.Call(qe,r),bt(r)?r=parseInt(A(r,2),2):wt(r)?r=parseInt(A(r,2),8):(Ot(r)||St(r))&&(r=NaN));var n=this,i=p((function(){return gt.prototype.valueOf.call(n),!0}));return n instanceof e&&!i?new gt(r):gt(r)};return e}();xe(gt,Tt,{}),m(Tt,{NaN:gt.NaN,MAX_VALUE:gt.MAX_VALUE,MIN_VALUE:gt.MIN_VALUE,NEGATIVE_INFINITY:gt.NEGATIVE_INFINITY,POSITIVE_INFINITY:gt.POSITIVE_INFINITY}),Number=Tt,w.redefine(S,"Number",Tt)}var Et=Math.pow(2,53)-1;m(Number,{MAX_SAFE_INTEGER:Et,MIN_SAFE_INTEGER:-Et,EPSILON:2220446049250313e-31,parseInt:S.parseInt,parseFloat:S.parseFloat,isFinite:Y,isInteger:function(e){return Y(e)&&he.ToInteger(e)===e},isSafeInteger:function(e){return Number.isInteger(e)&&D(e)<=Number.MAX_SAFE_INTEGER},isNaN:Q}),g(Number,"parseInt",S.parseInt,Number.parseInt!==S.parseInt),1===[,1].find((function(){return!0}))&&ie(Array.prototype,"find",Xe.find),0!==[,1].findIndex((function(){return!0}))&&ie(Array.prototype,"findIndex",Xe.findIndex);var kt,xt,At,It=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),Mt=function(e,t){l&&It(e,t)&&Object.defineProperty(e,t,{enumerable:!1})},Ct=function(){for(var e=Number(this),t=arguments.length,r=t-e,n=new Array(r<0?0:r),i=e;i<t;++i)n[i-e]=arguments[i];return n},jt=function(e){return function(t,r){return t[r]=e[r],t}},Pt=function(e,t){var r,n=s(Object(t));return he.IsCallable(Object.getOwnPropertySymbols)&&(r=d(Object.getOwnPropertySymbols(Object(t)),It(t))),y(x(n,r||[]),jt(t),e)},Lt={assign:function(e,t){var r=he.ToObject(e,"Cannot convert undefined or null to object");return y(he.Call(Ct,1,arguments),Pt,r)},is:function(e,t){return he.SameValue(e,t)}};if(Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}}()&&ie(Object,"assign",Lt.assign),m(Object,Lt),l){var Rt={setPrototypeOf:function(e){var t,r=function(e,t){if(!he.TypeIsObject(e))throw new TypeError("cannot set prototype on a non-object");if(null!==t&&!he.TypeIsObject(t))throw new TypeError("can only set prototype to an object or null"+t)},i=function(e,i){return r(e,i),n(t,e,i),e};try{t=e.getOwnPropertyDescriptor(e.prototype,"__proto__").set,n(t,{},null)}catch(r){if(e.prototype!=={}.__proto__)return;t=function(e){this.__proto__=e},i.polyfill=i(i({},null),e.prototype)instanceof e}return i}(Object)};m(Object,Rt)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&(kt=Object.create(null),xt=Object.getPrototypeOf,At=Object.setPrototypeOf,Object.getPrototypeOf=function(e){var t=xt(e);return t===kt?null:t},Object.setPrototypeOf=function(e,t){return At(e,null===t?kt:t)},Object.setPrototypeOf.polyfill=!1),a((function(){return Object.keys("foo")}))){var Dt=Object.keys;ie(Object,"keys",(function(e){return Dt(he.ToObject(e))})),s=Object.keys}if(a((function(){return Object.keys(/a/g)}))){var Ut=Object.keys;ie(Object,"keys",(function(e){if(ne.regex(e)){var t=[];for(var r in e)B(e,r)&&I(t,r);return t}return Ut(e)})),s=Object.keys}if(Object.getOwnPropertyNames&&a((function(){return Object.getOwnPropertyNames("foo")}))){var Ft="object"==typeof window?Object.getOwnPropertyNames(window):[],Gt=Object.getOwnPropertyNames;ie(Object,"getOwnPropertyNames",(function(e){var t=he.ToObject(e);if("[object Window]"===_(t))try{return Gt(t)}catch(e){return x([],Ft)}return Gt(t)}))}if(Object.getOwnPropertyDescriptor&&a((function(){return Object.getOwnPropertyDescriptor("foo","bar")}))){var Bt=Object.getOwnPropertyDescriptor;ie(Object,"getOwnPropertyDescriptor",(function(e,t){return Bt(he.ToObject(e),t)}))}if(Object.seal&&a((function(){return Object.seal("foo")}))){var $t=Object.seal;ie(Object,"seal",(function(e){return he.TypeIsObject(e)?$t(e):e}))}if(Object.isSealed&&a((function(){return Object.isSealed("foo")}))){var Vt=Object.isSealed;ie(Object,"isSealed",(function(e){return!he.TypeIsObject(e)||Vt(e)}))}if(Object.freeze&&a((function(){return Object.freeze("foo")}))){var qt=Object.freeze;ie(Object,"freeze",(function(e){return he.TypeIsObject(e)?qt(e):e}))}if(Object.isFrozen&&a((function(){return Object.isFrozen("foo")}))){var zt=Object.isFrozen;ie(Object,"isFrozen",(function(e){return!he.TypeIsObject(e)||zt(e)}))}if(Object.preventExtensions&&a((function(){return Object.preventExtensions("foo")}))){var Wt=Object.preventExtensions;ie(Object,"preventExtensions",(function(e){return he.TypeIsObject(e)?Wt(e):e}))}if(Object.isExtensible&&a((function(){return Object.isExtensible("foo")}))){var Kt=Object.isExtensible;ie(Object,"isExtensible",(function(e){return!!he.TypeIsObject(e)&&Kt(e)}))}if(Object.getPrototypeOf&&a((function(){return Object.getPrototypeOf("foo")}))){var Ht=Object.getPrototypeOf;ie(Object,"getPrototypeOf",(function(e){return Ht(he.ToObject(e))}))}var Jt,Qt=l&&((Jt=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags"))&&he.IsCallable(Jt.get));if(l&&!Qt){var Yt=function(){if(!he.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e};w.getter(RegExp.prototype,"flags",Yt)}var Xt,Zt=l&&p((function(){return"/a/i"===String(new RegExp(/a/g,"i"))})),er=se&&l&&((Xt=/./)[H.match]=!1,RegExp(Xt)===Xt),tr=p((function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})})),rr=tr&&p((function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})}));if(!tr||!rr){var nr=RegExp.prototype.toString;g(RegExp.prototype,"toString",(function(){var e=he.RequireObjectCoercible(this);return ne.regex(e)?n(nr,e):"/"+ue(e.source)+"/"+ue(e.flags)}),!0),w.preserveToString(RegExp.prototype.toString,nr),RegExp.prototype.toString.prototype=void 0}if(l&&(!Zt||er)){var ir=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,sr=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},or=function(){return this.source},ar=he.IsCallable(sr.get)?sr.get:or,pr=RegExp,ur=function e(t,r){var n=he.IsRegExp(t);return this instanceof e||!n||void 0!==r||t.constructor!==e?ne.regex(t)?new e(he.Call(ar,t),void 0===r?he.Call(ir,t):r):(n&&(t.source,void 0===r&&t.flags),new pr(t,r)):t};xe(pr,ur,{$input:!0}),RegExp=ur,w.redefine(S,"RegExp",ur)}if(l){var cr={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};f(s(cr),(function(e){e in RegExp&&!(cr[e]in RegExp)&&w.getter(RegExp,cr[e],(function(){return RegExp[e]}))}))}Ie(RegExp);var lr=1/Number.EPSILON,hr=function(e){return e+lr-lr},fr=Math.pow(2,-23),yr=Math.pow(2,127)*(2-fr),dr=Math.pow(2,-126),vr=Math.E,gr=Math.LOG2E,mr=Math.LOG10E,_r=Number.prototype.clz;delete Number.prototype.clz;var br={acosh:function(e){var t=Number(e);if(Q(t)||e<1)return NaN;if(1===t)return 0;if(t===1/0)return t;var r=1/(t*t);if(t<2)return Z(t-1+G(1-r)*t);var n=t/2;return Z(n+G(1-r)*n-1)+1/gr},asinh:function(e){var t=Number(e);if(0===t||!T(t))return t;var r=D(t),n=r*r,i=X(t);return r<1?i*Z(r+n/(G(n+1)+1)):i*(Z(r/2+G(1+1/n)*r/2-1)+1/gr)},atanh:function(e){var t=Number(e);if(0===t)return t;if(-1===t)return-1/0;if(1===t)return 1/0;if(Q(t)||t<-1||t>1)return NaN;var r=D(t);return X(t)*Z(2*r/(1-r))/2},cbrt:function(e){var t=Number(e);if(0===t)return t;var r,n=t<0;return n&&(t=-t),r=t===1/0?1/0:(t/((r=U(F(t)/3))*r)+2*r)/3,n?-r:r},clz32:function(e){var t=Number(e),r=he.ToUint32(t);return 0===r?32:_r?he.Call(_r,r):31-R(F(r+.5)*gr)},cosh:function(e){var t=Number(e);if(0===t)return 1;if(Q(t))return NaN;if(!T(t))return 1/0;var r=U(D(t)-1);return(r+1/(r*vr*vr))*(vr/2)},expm1:function(e){var t=Number(e);if(t===-1/0)return-1;if(!T(t)||0===t)return t;if(D(t)>.5)return U(t)-1;for(var r=t,n=0,i=1;n+r!==n;)n+=r,r*=t/(i+=1);return n},hypot:function(e,t){for(var r=0,n=0,i=0;i<arguments.length;++i){var s=D(Number(arguments[i]));n<s?(r*=n/s*(n/s),r+=1,n=s):r+=s>0?s/n*(s/n):s}return n===1/0?1/0:n*G(r)},log2:function(e){return F(e)*gr},log10:function(e){return F(e)*mr},log1p:Z,sign:X,sinh:function(e){var t=Number(e);if(!T(t)||0===t)return t;var r=D(t);if(r<1){var n=Math.expm1(r);return X(t)*n*(1+1/(n+1))/2}var i=U(r-1);return X(t)*(i-1/(i*vr*vr))*(vr/2)},tanh:function(e){var t=Number(e);return Q(t)||0===t?t:t>=20?1:t<=-20?-1:(Math.expm1(t)-Math.expm1(-t))/(U(t)+U(-t))},trunc:function(e){var t=Number(e);return t<0?-R(-t):R(t)},imul:function(e,t){var r=he.ToUint32(e),n=he.ToUint32(t),i=65535&r,s=65535&n;return i*s+((r>>>16&65535)*s+i*(n>>>16&65535)<<16>>>0)|0},fround:function(e){var t=Number(e);if(0===t||t===1/0||t===-1/0||Q(t))return t;var r=X(t),n=D(t);if(n<dr)return r*hr(n/dr/fr)*dr*fr;var i=(1+fr/Number.EPSILON)*n,s=i-(i-n);return s>yr||Q(s)?r*(1/0):r*s}},wr=function(e,t,r){return D(1-e/t)/Number.EPSILON<(r||8)};m(Math,br),g(Math,"sinh",br.sinh,Math.sinh(710)===1/0),g(Math,"cosh",br.cosh,Math.cosh(710)===1/0),g(Math,"log1p",br.log1p,-1e-17!==Math.log1p(-1e-17)),g(Math,"asinh",br.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),g(Math,"asinh",br.asinh,Math.asinh(1e300)===1/0),g(Math,"atanh",br.atanh,0===Math.atanh(1e-300)),g(Math,"tanh",br.tanh,-2e-17!==Math.tanh(-2e-17)),g(Math,"acosh",br.acosh,Math.acosh(Number.MAX_VALUE)===1/0),g(Math,"acosh",br.acosh,!wr(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON))),g(Math,"cbrt",br.cbrt,!wr(Math.cbrt(1e-300),1e-100)),g(Math,"sinh",br.sinh,-2e-17!==Math.sinh(-2e-17));var Nr=Math.expm1(10);g(Math,"expm1",br.expm1,Nr>22025.465794806718||Nr<22025.465794806718),g(Math,"hypot",br.hypot,Math.hypot(1/0,NaN)!==1/0);var Or=Math.round,Sr=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(Number.EPSILON/3.99-.5),Tr=[lr+1,2*lr-1].every((function(e){return Math.round(e)===e}));g(Math,"round",(function(e){var t=R(e);return e-t<.5?t:-1===t?-0:t+1}),!Sr||!Tr),w.preserveToString(Math.round,Or);var Er=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=br.imul,w.preserveToString(Math.imul,Er)),2!==Math.imul.length&&ie(Math,"imul",(function(e,t){return he.Call(Er,Math,arguments)}));var kr,xr,Ar=function(){var e=S.setTimeout;if("function"==typeof e||"object"==typeof e){he.IsPromise=function(e){return!!he.TypeIsObject(e)&&void 0!==e._promise};var t,r=function(e){if(!he.IsConstructor(e))throw new TypeError("Bad promise constructor");var t=this,r=function(e,r){if(void 0!==t.resolve||void 0!==t.reject)throw new TypeError("Bad Promise implementation!");t.resolve=e,t.reject=r};if(t.resolve=void 0,t.reject=void 0,t.promise=new e(r),!he.IsCallable(t.resolve)||!he.IsCallable(t.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&he.IsCallable(window.postMessage)&&(t=function(){var e=[],t="zero-timeout-message",r=function(r){I(e,r),window.postMessage(t,"*")},n=function(r){if(r.source===window&&r.data===t){if(r.stopPropagation(),0===e.length)return;j(e)()}};return window.addEventListener("message",n,!0),r});var i,s,o=function(){var e=S.Promise,t=e&&e.resolve&&e.resolve();return t&&function(e){return t.then(e)}},a=he.IsCallable(S.setImmediate)?S.setImmediate:"object"==typeof process&&process.nextTick?process.nextTick:o()||(he.IsCallable(t)?t():function(t){e(t,0)}),p=function(e){return e},u=function(e){throw e},c=0,l=1,h=2,f=0,y=1,d=2,v={},g=function(e,t,r){a((function(){_(e,t,r)}))},_=function(e,t,r){var n,i;if(t===v)return e(r);try{n=e(r),i=t.resolve}catch(e){n=e,i=t.reject}i(n)},b=function(e,t){var r=e._promise,n=r.reactionLength;if(n>0&&(g(r.fulfillReactionHandler0,r.reactionCapability0,t),r.fulfillReactionHandler0=void 0,r.rejectReactions0=void 0,r.reactionCapability0=void 0,n>1))for(var i=1,s=0;i<n;i++,s+=3)g(r[s+f],r[s+d],t),e[s+f]=void 0,e[s+y]=void 0,e[s+d]=void 0;r.result=t,r.state=l,r.reactionLength=0},w=function(e,t){var r=e._promise,n=r.reactionLength;if(n>0&&(g(r.rejectReactionHandler0,r.reactionCapability0,t),r.fulfillReactionHandler0=void 0,r.rejectReactions0=void 0,r.reactionCapability0=void 0,n>1))for(var i=1,s=0;i<n;i++,s+=3)g(r[s+y],r[s+d],t),e[s+f]=void 0,e[s+y]=void 0,e[s+d]=void 0;r.result=t,r.state=h,r.reactionLength=0},N=function(e){var t=!1;return{resolve:function(r){var n;if(!t){if(t=!0,r===e)return w(e,new TypeError("Self resolution"));if(!he.TypeIsObject(r))return b(e,r);try{n=r.then}catch(t){return w(e,t)}if(!he.IsCallable(n))return b(e,r);a((function(){T(e,r,n)}))}},reject:function(r){if(!t)return t=!0,w(e,r)}}},O=function(e,t,r,i){e===s?n(e,t,r,i,v):n(e,t,r,i)},T=function(e,t,r){var n=N(e),i=n.resolve,s=n.reject;try{O(r,t,i,s)}catch(e){s(e)}},E=function(){var e=function(t){if(!(this instanceof e))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!he.IsCallable(t))throw new TypeError("not a valid resolver");var r=Pe(this,e,i,{_promise:{result:void 0,state:c,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),n=N(r),s=n.reject;try{t(n.resolve,s)}catch(e){s(e)}return r};return e}();i=E.prototype;var k=function(e,t,r,n){var i=!1;return function(s){i||(i=!0,t[e]=s,0==--n.count&&(0,r.resolve)(t))}},x=function(e,t,r){for(var n,i,s=e.iterator,o=[],a={count:1},p=0;;){try{if(!1===(n=he.IteratorStep(s))){e.done=!0;break}i=n.value}catch(t){throw e.done=!0,t}o[p]=void 0;var u=t.resolve(i),c=k(p,o,r,a);a.count+=1,O(u.then,u,c,r.reject),p+=1}return 0==--a.count&&(0,r.resolve)(o),r.promise},A=function(e,t,r){for(var n,i,s,o=e.iterator;;){try{if(!1===(n=he.IteratorStep(o))){e.done=!0;break}i=n.value}catch(t){throw e.done=!0,t}s=t.resolve(i),O(s.then,s,r.resolve,r.reject)}return r.promise};return m(E,{all:function(e){var t=this;if(!he.TypeIsObject(t))throw new TypeError("Promise is not object");var n,i,s=new r(t);try{return n=he.GetIterator(e),x(i={iterator:n,done:!1},t,s)}catch(e){var o=e;if(i&&!i.done)try{he.IteratorClose(n,!0)}catch(e){o=e}return(0,s.reject)(o),s.promise}},race:function(e){var t=this;if(!he.TypeIsObject(t))throw new TypeError("Promise is not object");var n,i,s=new r(t);try{return n=he.GetIterator(e),A(i={iterator:n,done:!1},t,s)}catch(e){var o=e;if(i&&!i.done)try{he.IteratorClose(n,!0)}catch(e){o=e}return(0,s.reject)(o),s.promise}},reject:function(e){var t=this;if(!he.TypeIsObject(t))throw new TypeError("Bad promise constructor");var n=new r(t);return(0,n.reject)(e),n.promise},resolve:function(e){var t=this;if(!he.TypeIsObject(t))throw new TypeError("Bad promise constructor");if(he.IsPromise(e)&&e.constructor===t)return e;var n=new r(t);return(0,n.resolve)(e),n.promise}}),m(i,{catch:function(e){return this.then(null,e)},then:function(e,t){var n=this;if(!he.IsPromise(n))throw new TypeError("not a promise");var i,s=he.SpeciesConstructor(n,E);i=arguments.length>2&&arguments[2]===v&&s===E?v:new r(s);var o,a=he.IsCallable(e)?e:p,m=he.IsCallable(t)?t:u,_=n._promise;if(_.state===c){if(0===_.reactionLength)_.fulfillReactionHandler0=a,_.rejectReactionHandler0=m,_.reactionCapability0=i;else{var b=3*(_.reactionLength-1);_[b+f]=a,_[b+y]=m,_[b+d]=i}_.reactionLength+=1}else if(_.state===l)o=_.result,g(a,i,o);else{if(_.state!==h)throw new TypeError("unexpected Promise state");o=_.result,g(m,i,o)}return i.promise}}),v=new r(E),s=i.then,E}}();if(S.Promise&&(delete S.Promise.accept,delete S.Promise.defer,delete S.Promise.prototype.chain),"function"==typeof Ar){m(S,{Promise:Ar});var Ir=O(S.Promise,(function(e){return e.resolve(42).then((function(){}))instanceof e})),Mr=!a((function(){return S.Promise.reject(42).then(null,5).then(null,$)})),Cr=a((function(){return S.Promise.call(3,$)})),jr=function(e){var t=e.resolve(5);t.constructor={};var r=e.resolve(t);try{r.then(null,$).then(null,$)}catch(e){return!0}return t===r}(S.Promise),Pr=l&&(kr=0,xr=Object.defineProperty({},"then",{get:function(){kr+=1}}),Promise.resolve(xr),1===kr),Lr=function e(t){var r=new Promise(t);t(3,(function(){})),this.then=r.then,this.constructor=e};Lr.prototype=Promise.prototype,Lr.all=Promise.all;var Rr=p((function(){return!!Lr.all([1,2])}));if(Ir&&Mr&&Cr&&!jr&&Pr&&!Rr||(Promise=Ar,ie(S,"Promise",Ar)),1!==Promise.all.length){var Dr=Promise.all;ie(Promise,"all",(function(e){return he.Call(Dr,this,arguments)}))}if(1!==Promise.race.length){var Ur=Promise.race;ie(Promise,"race",(function(e){return he.Call(Ur,this,arguments)}))}if(1!==Promise.resolve.length){var Fr=Promise.resolve;ie(Promise,"resolve",(function(e){return he.Call(Fr,this,arguments)}))}if(1!==Promise.reject.length){var Gr=Promise.reject;ie(Promise,"reject",(function(e){return he.Call(Gr,this,arguments)}))}Mt(Promise,"all"),Mt(Promise,"race"),Mt(Promise,"resolve"),Mt(Promise,"reject"),Ie(Promise)}var Br,$r,Vr=function(e){var t=s(y(e,(function(e,t){return e[t]=!0,e}),{}));return e.join(":")===t.join(":")},qr=Vr(["z","a","bb"]),zr=Vr(["z",1,"a","3",2]);if(l){var Wr=function(e,t){return t||qr?le(e)?"^"+he.ToString(e):"string"==typeof e?"$"+e:"number"==typeof e?zr?e:"n"+e:"boolean"==typeof e?"b"+e:null:null},Kr=function(){return Object.create?Object.create(null):{}},Hr=function(e,t,r){if(i(r)||ne.string(r))f(r,(function(e){if(!he.TypeIsObject(e))throw new TypeError("Iterator value "+e+" is not an entry object");t.set(e[0],e[1])}));else if(r instanceof e)n(e.prototype.forEach,r,(function(e,r){t.set(r,e)}));else{var s,o;if(!le(r)){if(o=t.set,!he.IsCallable(o))throw new TypeError("bad map");s=he.GetIterator(r)}if(void 0!==s)for(;;){var a=he.IteratorStep(s);if(!1===a)break;var p=a.value;try{if(!he.TypeIsObject(p))throw new TypeError("Iterator value "+p+" is not an entry object");n(o,t,p[0],p[1])}catch(e){throw he.IteratorClose(s,!0),e}}}},Jr=function(e,t,r){if(i(r)||ne.string(r))f(r,(function(e){t.add(e)}));else if(r instanceof e)n(e.prototype.forEach,r,(function(e){t.add(e)}));else{var s,o;if(!le(r)){if(o=t.add,!he.IsCallable(o))throw new TypeError("bad set");s=he.GetIterator(r)}if(void 0!==s)for(;;){var a=he.IteratorStep(s);if(!1===a)break;var p=a.value;try{n(o,t,p)}catch(e){throw he.IteratorClose(s,!0),e}}}},Qr={Map:function(){var e={},t=function(e,t){this.key=e,this.value=t,this.next=null,this.prev=null};t.prototype.isRemoved=function(){return this.key===e};var r,i=function(e){return!!e._es6map},s=function(e,t){if(!he.TypeIsObject(e)||!i(e))throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+he.ToString(e))},o=function(e,t){s(e,"[[MapIterator]]"),g(this,"head",e._head),g(this,"i",this.head),g(this,"kind",t)};o.prototype={isMapIterator:!0,next:function(){if(!this.isMapIterator)throw new TypeError("Not a MapIterator");var e,t=this.i,r=this.kind,n=this.head;if(void 0===this.i)return Je();for(;t.isRemoved()&&t!==n;)t=t.prev;for(;t.next!==n;)if(!(t=t.next).isRemoved())return e="key"===r?t.key:"value"===r?t.value:[t.key,t.value],this.i=t,Je(e);return this.i=void 0,Je()}},Me(o.prototype);var a=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var n=Pe(this,e,r,{_es6map:!0,_head:null,_map:V?new V:null,_size:0,_storage:Kr()}),i=new t(null,null);return i.next=i.prev=i,n._head=i,arguments.length>0&&Hr(e,n,arguments[0]),n};return r=a.prototype,w.getter(r,"size",(function(){if(void 0===this._size)throw new TypeError("size method called on incompatible Map");return this._size})),m(r,{get:function(e){var t;s(this,"get");var r=Wr(e,!0);if(null!==r)return(t=this._storage[r])?t.value:void 0;if(this._map)return(t=z.call(this._map,e))?t.value:void 0;for(var n=this._head,i=n;(i=i.next)!==n;)if(he.SameValueZero(i.key,e))return i.value},has:function(e){s(this,"has");var t=Wr(e,!0);if(null!==t)return void 0!==this._storage[t];if(this._map)return W.call(this._map,e);for(var r=this._head,n=r;(n=n.next)!==r;)if(he.SameValueZero(n.key,e))return!0;return!1},set:function(e,r){s(this,"set");var n,i=this._head,o=i,a=Wr(e,!0);if(null!==a){if(void 0!==this._storage[a])return this._storage[a].value=r,this;n=this._storage[a]=new t(e,r),o=i.prev}else this._map&&(W.call(this._map,e)?z.call(this._map,e).value=r:(n=new t(e,r),K.call(this._map,e,n),o=i.prev));for(;(o=o.next)!==i;)if(he.SameValueZero(o.key,e))return o.value=r,this;return n=n||new t(e,r),he.SameValue(-0,e)&&(n.key=0),n.next=this._head,n.prev=this._head.prev,n.prev.next=n,n.next.prev=n,this._size+=1,this},delete:function(t){s(this,"delete");var r=this._head,n=r,i=Wr(t,!0);if(null!==i){if(void 0===this._storage[i])return!1;n=this._storage[i].prev,delete this._storage[i]}else if(this._map){if(!W.call(this._map,t))return!1;n=z.call(this._map,t).prev,q.call(this._map,t)}for(;(n=n.next)!==r;)if(he.SameValueZero(n.key,t))return n.key=e,n.value=e,n.prev.next=n.next,n.next.prev=n.prev,this._size-=1,!0;return!1},clear:function(){s(this,"clear"),this._map=V?new V:null,this._size=0,this._storage=Kr();for(var t=this._head,r=t,n=r.next;(r=n)!==t;)r.key=e,r.value=e,n=r.next,r.next=r.prev=t;t.next=t.prev=t},keys:function(){return s(this,"keys"),new o(this,"key")},values:function(){return s(this,"values"),new o(this,"value")},entries:function(){return s(this,"entries"),new o(this,"key+value")},forEach:function(e){s(this,"forEach");for(var t=arguments.length>1?arguments[1]:null,r=this.entries(),i=r.next();!i.done;i=r.next())t?n(e,t,i.value[1],i.value[0],this):e(i.value[1],i.value[0],this)}}),Me(r,r.entries),a}(),Set:function(){var e,t=function(e){return e._es6set&&void 0!==e._storage},r=function(e,r){if(!he.TypeIsObject(e)||!t(e))throw new TypeError("Set.prototype."+r+" called on incompatible receiver "+he.ToString(e))},i=function t(){if(!(this instanceof t))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var r=Pe(this,t,e,{_es6set:!0,"[[SetData]]":null,_storage:Kr()});if(!r._es6set)throw new TypeError("bad set");return arguments.length>0&&Jr(t,r,arguments[0]),r};e=i.prototype;var o=function(e){var t=e;if("^null"===t)return null;if("^undefined"!==t){var r=t.charAt(0);return"$"===r?A(t,1):"n"===r?+A(t,1):"b"===r?"btrue"===t:+t}},a=function(e){if(!e["[[SetData]]"]){var t=new Qr.Map;e["[[SetData]]"]=t,f(s(e._storage),(function(e){var r=o(e);t.set(r,r)})),e["[[SetData]]"]=t}e._storage=null};w.getter(i.prototype,"size",(function(){return r(this,"size"),this._storage?s(this._storage).length:(a(this),this["[[SetData]]"].size)})),m(i.prototype,{has:function(e){var t;return r(this,"has"),this._storage&&null!==(t=Wr(e))?!!this._storage[t]:(a(this),this["[[SetData]]"].has(e))},add:function(e){var t;return r(this,"add"),this._storage&&null!==(t=Wr(e))?(this._storage[t]=!0,this):(a(this),this["[[SetData]]"].set(e,e),this)},delete:function(e){var t;if(r(this,"delete"),this._storage&&null!==(t=Wr(e))){var n=B(this._storage,t);return delete this._storage[t]&&n}return a(this),this["[[SetData]]"].delete(e)},clear:function(){r(this,"clear"),this._storage&&(this._storage=Kr()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function(){return r(this,"values"),a(this),new p(this["[[SetData]]"].values())},entries:function(){return r(this,"entries"),a(this),new p(this["[[SetData]]"].entries())},forEach:function(e){r(this,"forEach");var t=arguments.length>1?arguments[1]:null,i=this;a(i),this["[[SetData]]"].forEach((function(r,s){t?n(e,t,s,s,i):e(s,s,i)}))}}),g(i.prototype,"keys",i.prototype.values,!0),Me(i.prototype,i.prototype.values);var p=function(e){g(this,"it",e)};return p.prototype={isSetIterator:!0,next:function(){if(!this.isSetIterator)throw new TypeError("Not a SetIterator");return this.it.next()}},Me(p.prototype),i}()};if(S.Set&&!Set.prototype.delete&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys)&&(S.Set=Qr.Set),S.Map||S.Set){p((function(){return 2===new Map([[1,2]]).get(1)}))||(S.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new V;return arguments.length>0&&Hr(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,S.Map.prototype),t},S.Map.prototype=N(V.prototype),g(S.Map.prototype,"constructor",S.Map,!0),w.preserveToString(S.Map,V));var Yr=new Map,Xr=(($r=new Map([[1,0],[2,0],[3,0],[4,0]])).set(-0,$r),$r.get(0)===$r&&$r.get(-0)===$r&&$r.has(0)&&$r.has(-0)),Zr=Yr.set(1,2)===Yr;Xr&&Zr||ie(Map.prototype,"set",(function(e,t){return n(K,this,0===e?0:e,t),this})),Xr||(m(Map.prototype,{get:function(e){return n(z,this,0===e?0:e)},has:function(e){return n(W,this,0===e?0:e)}},!0),w.preserveToString(Map.prototype.get,z),w.preserveToString(Map.prototype.has,W));var en=new Set,tn=Set.prototype.delete&&Set.prototype.add&&Set.prototype.has&&((Br=en).delete(0),Br.add(-0),!Br.has(0)),rn=en.add(1)===en;if(!tn||!rn){var nn=Set.prototype.add;Set.prototype.add=function(e){return n(nn,this,0===e?0:e),this},w.preserveToString(Set.prototype.add,nn)}if(!tn){var sn=Set.prototype.has;Set.prototype.has=function(e){return n(sn,this,0===e?0:e)},w.preserveToString(Set.prototype.has,sn);var on=Set.prototype.delete;Set.prototype.delete=function(e){return n(on,this,0===e?0:e)},w.preserveToString(Set.prototype.delete,on)}var an=O(S.Map,(function(e){var t=new e([]);return t.set(42,42),t instanceof e})),pn=Object.setPrototypeOf&&!an,un=function(){try{return!(S.Map()instanceof S.Map)}catch(e){return e instanceof TypeError}}();0===S.Map.length&&!pn&&un||(S.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new V;return arguments.length>0&&Hr(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},S.Map.prototype=V.prototype,g(S.Map.prototype,"constructor",S.Map,!0),w.preserveToString(S.Map,V));var cn=O(S.Set,(function(e){var t=new e([]);return t.add(42,42),t instanceof e})),ln=Object.setPrototypeOf&&!cn,hn=function(){try{return!(S.Set()instanceof S.Set)}catch(e){return e instanceof TypeError}}();if(0!==S.Set.length||ln||!hn){var fn=S.Set;S.Set=function e(){if(!(this instanceof e))throw new TypeError('Constructor Set requires "new"');var t=new fn;return arguments.length>0&&Jr(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},S.Set.prototype=fn.prototype,g(S.Set.prototype,"constructor",S.Set,!0),w.preserveToString(S.Set,fn)}var yn=new S.Map,dn=!p((function(){return yn.keys().next().done}));if(("function"!=typeof S.Map.prototype.clear||0!==(new S.Set).size||0!==yn.size||"function"!=typeof S.Map.prototype.keys||"function"!=typeof S.Set.prototype.keys||"function"!=typeof S.Map.prototype.forEach||"function"!=typeof S.Set.prototype.forEach||u(S.Map)||u(S.Set)||"function"!=typeof yn.keys().next||dn||!an)&&m(S,{Map:Qr.Map,Set:Qr.Set},!0),S.Set.prototype.keys!==S.Set.prototype.values&&g(S.Set.prototype,"keys",S.Set.prototype.values,!0),Me(Object.getPrototypeOf((new S.Map).keys())),Me(Object.getPrototypeOf((new S.Set).keys())),h&&"has"!==S.Set.prototype.has.name){var vn=S.Set.prototype.has;ie(S.Set.prototype,"has",(function(e){return n(vn,this,e)}))}}m(S,Qr),Ie(S.Map),Ie(S.Set)}var gn=function(e){if(!he.TypeIsObject(e))throw new TypeError("target must be an object")},mn={apply:function(){return he.Call(he.Call,null,arguments)},construct:function(e,t){if(!he.IsConstructor(e))throw new TypeError("First argument must be a constructor.");var r=arguments.length>2?arguments[2]:e;if(!he.IsConstructor(r))throw new TypeError("new.target must be a constructor.");return he.Construct(e,t,r,"internal")},deleteProperty:function(e,t){if(gn(e),l){var r=Object.getOwnPropertyDescriptor(e,t);if(r&&!r.configurable)return!1}return delete e[t]},has:function(e,t){return gn(e),t in e}};Object.getOwnPropertyNames&&Object.assign(mn,{ownKeys:function(e){gn(e);var t=Object.getOwnPropertyNames(e);return he.IsCallable(Object.getOwnPropertySymbols)&&M(t,Object.getOwnPropertySymbols(e)),t}});var _n=function(e){return!a(e)};if(Object.preventExtensions&&Object.assign(mn,{isExtensible:function(e){return gn(e),Object.isExtensible(e)},preventExtensions:function(e){return gn(e),_n((function(){return Object.preventExtensions(e)}))}}),l){var bn=function(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n){var i=Object.getPrototypeOf(e);if(null===i)return;return bn(i,t,r)}return"value"in n?n.value:n.get?he.Call(n.get,r):void 0},wn=function(e,t,r,i){var s=Object.getOwnPropertyDescriptor(e,t);if(!s){var o=Object.getPrototypeOf(e);if(null!==o)return wn(o,t,r,i);s={value:void 0,writable:!0,enumerable:!0,configurable:!0}}return"value"in s?!!s.writable&&!!he.TypeIsObject(i)&&(Object.getOwnPropertyDescriptor(i,t)?pe.defineProperty(i,t,{value:r}):pe.defineProperty(i,t,{value:r,writable:!0,enumerable:!0,configurable:!0})):!!s.set&&(n(s.set,i,r),!0)};Object.assign(mn,{defineProperty:function(e,t,r){return gn(e),_n((function(){return Object.defineProperty(e,t,r)}))},getOwnPropertyDescriptor:function(e,t){return gn(e),Object.getOwnPropertyDescriptor(e,t)},get:function(e,t){return gn(e),bn(e,t,arguments.length>2?arguments[2]:e)},set:function(e,t,r){return gn(e),wn(e,t,r,arguments.length>3?arguments[3]:e)}})}if(Object.getPrototypeOf){var Nn=Object.getPrototypeOf;mn.getPrototypeOf=function(e){return gn(e),Nn(e)}}if(Object.setPrototypeOf&&mn.getPrototypeOf){var On=function(e,t){for(var r=t;r;){if(e===r)return!0;r=mn.getPrototypeOf(r)}return!1};Object.assign(mn,{setPrototypeOf:function(e,t){if(gn(e),null!==t&&!he.TypeIsObject(t))throw new TypeError("proto must be an object or null");return t===pe.getPrototypeOf(e)||!(pe.isExtensible&&!pe.isExtensible(e))&&!On(e,t)&&(Object.setPrototypeOf(e,t),!0)}})}var Sn=function(e,t){he.IsCallable(S.Reflect[e])?p((function(){return S.Reflect[e](1),S.Reflect[e](NaN),S.Reflect[e](!0),!0}))&&ie(S.Reflect,e,t):g(S.Reflect,e,t)};Object.keys(mn).forEach((function(e){Sn(e,mn[e])}));var Tn=S.Reflect.getPrototypeOf;if(h&&Tn&&"getPrototypeOf"!==Tn.name&&ie(S.Reflect,"getPrototypeOf",(function(e){return n(Tn,S.Reflect,e)})),S.Reflect.setPrototypeOf&&p((function(){return S.Reflect.setPrototypeOf(1,{}),!0}))&&ie(S.Reflect,"setPrototypeOf",mn.setPrototypeOf),S.Reflect.defineProperty&&(p((function(){var e=!S.Reflect.defineProperty(1,"test",{value:1}),t="function"!=typeof Object.preventExtensions||!S.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t}))||ie(S.Reflect,"defineProperty",mn.defineProperty)),S.Reflect.construct&&(p((function(){var e=function(){};return S.Reflect.construct((function(){}),[],e)instanceof e}))||ie(S.Reflect,"construct",mn.construct)),"Invalid Date"!==String(new Date(NaN))){var En=Date.prototype.toString,kn=function(){var e=+this;return e!=e?"Invalid Date":he.Call(En,this)};ie(Date.prototype,"toString",kn)}var xn={anchor:function(e){return he.CreateHTML(this,"a","name",e)},big:function(){return he.CreateHTML(this,"big","","")},blink:function(){return he.CreateHTML(this,"blink","","")},bold:function(){return he.CreateHTML(this,"b","","")},fixed:function(){return he.CreateHTML(this,"tt","","")},fontcolor:function(e){return he.CreateHTML(this,"font","color",e)},fontsize:function(e){return he.CreateHTML(this,"font","size",e)},italics:function(){return he.CreateHTML(this,"i","","")},link:function(e){return he.CreateHTML(this,"a","href",e)},small:function(){return he.CreateHTML(this,"small","","")},strike:function(){return he.CreateHTML(this,"strike","","")},sub:function(){return he.CreateHTML(this,"sub","","")},sup:function(){return he.CreateHTML(this,"sup","","")}};f(Object.keys(xn),(function(e){var t=String.prototype[e],r=!1;if(he.IsCallable(t)){var i=n(t,"",' " '),s=x([],i.match(/"/g)).length;r=i!==i.toLowerCase()||s>2}else r=!0;r&&ie(String.prototype,e,xn[e])}));var An=function(){if(!se)return!1;var e="object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!e)return!1;if(void 0!==e(H()))return!0;if("[null]"!==e([H()]))return!0;var t={a:H()};return t[H()]=!0,"{}"!==e(t)}(),In=p((function(){return!se||"{}"===JSON.stringify(Object(H()))&&"[{}]"===JSON.stringify([Object(H())])}));if(An||!In){var Mn=JSON.stringify;ie(JSON,"stringify",(function(e){if("symbol"!=typeof e){var t;arguments.length>1&&(t=arguments[1]);var r=[e];if(i(t))r.push(t);else{var s=he.IsCallable(t)?t:null,o=function(e,t){var r=s?n(s,this,e,t):t;if("symbol"!=typeof r)return ne.symbol(r)?jt({})(r):r};r.push(o)}return arguments.length>2&&r.push(arguments[2]),Mn.apply(this,r)}}))}return S},void 0===(i="function"==typeof n?n.call(t,r,t,e):n)||(e.exports=i)},937:(e,t,r)=>{
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(e){!function(){var t="object"==typeof r.g?r.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=i(e);function i(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===t.Reflect?t.Reflect=e:n=i(t.Reflect,n),function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,o={__proto__:[]}instanceof Array,a=!s&&!o,p={create:s?function(){return ne(Object.create(null))}:o?function(){return ne({__proto__:null})}:function(){return ne({})},has:a?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:a?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),c="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,l=c||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ee():Map,h=c||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?te():Set,f=new(c||"function"!=typeof WeakMap?re():WeakMap);function y(e,t,r,n){if(L(r)){if(!q(e))throw new TypeError;if(!W(t))throw new TypeError;return S(e,t)}if(!q(e))throw new TypeError;if(!U(t))throw new TypeError;if(!U(n)&&!L(n)&&!R(n))throw new TypeError;return R(n)&&(n=void 0),T(e,t,r=V(r),n)}function d(e,t){function r(r,n){if(!U(r))throw new TypeError;if(!L(n)&&!K(n))throw new TypeError;M(e,t,r,n)}return r}function v(e,t,r,n){if(!U(r))throw new TypeError;return L(n)||(n=V(n)),M(e,t,r,n)}function g(e,t,r){if(!U(t))throw new TypeError;return L(r)||(r=V(r)),k(e,t,r)}function m(e,t,r){if(!U(t))throw new TypeError;return L(r)||(r=V(r)),x(e,t,r)}function _(e,t,r){if(!U(t))throw new TypeError;return L(r)||(r=V(r)),A(e,t,r)}function b(e,t,r){if(!U(t))throw new TypeError;return L(r)||(r=V(r)),I(e,t,r)}function w(e,t){if(!U(e))throw new TypeError;return L(t)||(t=V(t)),C(e,t)}function N(e,t){if(!U(e))throw new TypeError;return L(t)||(t=V(t)),j(e,t)}function O(e,t,r){if(!U(t))throw new TypeError;L(r)||(r=V(r));var n=E(t,r,!1);if(L(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var i=f.get(t);return i.delete(r),i.size>0||f.delete(t),!0}function S(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!L(n)&&!R(n)){if(!W(n))throw new TypeError;t=n}}return t}function T(e,t,r,n){for(var i=e.length-1;i>=0;--i){var s=(0,e[i])(t,r,n);if(!L(s)&&!R(s)){if(!U(s))throw new TypeError;n=s}}return n}function E(e,t,r){var n=f.get(e);if(L(n)){if(!r)return;n=new l,f.set(e,n)}var i=n.get(t);if(L(i)){if(!r)return;i=new l,n.set(t,i)}return i}function k(e,t,r){if(x(e,t,r))return!0;var n=Z(t);return!R(n)&&k(e,n,r)}function x(e,t,r){var n=E(t,r,!1);return!L(n)&&B(n.has(e))}function A(e,t,r){if(x(e,t,r))return I(e,t,r);var n=Z(t);return R(n)?void 0:A(e,n,r)}function I(e,t,r){var n=E(t,r,!1);if(!L(n))return n.get(e)}function M(e,t,r,n){E(r,n,!0).set(e,t)}function C(e,t){var r=j(e,t),n=Z(e);if(null===n)return r;var i=C(n,t);if(i.length<=0)return r;if(r.length<=0)return i;for(var s=new h,o=[],a=0,p=r;a<p.length;a++){var u=p[a];s.has(u)||(s.add(u),o.push(u))}for(var c=0,l=i;c<l.length;c++){u=l[c];s.has(u)||(s.add(u),o.push(u))}return o}function j(e,t){var r=[],n=E(e,t,!1);if(L(n))return r;for(var i=J(n.keys()),s=0;;){var o=Y(i);if(!o)return r.length=s,r;var a=Q(o);try{r[s]=a}catch(e){try{X(i)}finally{throw e}}s++}}function P(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function L(e){return void 0===e}function R(e){return null===e}function D(e){return"symbol"==typeof e}function U(e){return"object"==typeof e?null!==e:"function"==typeof e}function F(e,t){switch(P(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",i=H(e,n);if(void 0!==i){var s=i.call(e,r);if(U(s))throw new TypeError;return s}return G(e,"default"===r?"number":r)}function G(e,t){if("string"===t){var r=e.toString;if(z(r))if(!U(i=r.call(e)))return i;if(z(n=e.valueOf))if(!U(i=n.call(e)))return i}else{var n;if(z(n=e.valueOf))if(!U(i=n.call(e)))return i;var i,s=e.toString;if(z(s))if(!U(i=s.call(e)))return i}throw new TypeError}function B(e){return!!e}function $(e){return""+e}function V(e){var t=F(e,3);return D(t)?t:$(t)}function q(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function z(e){return"function"==typeof e}function W(e){return"function"==typeof e}function K(e){switch(P(e)){case 3:case 4:return!0;default:return!1}}function H(e,t){var r=e[t];if(null!=r){if(!z(r))throw new TypeError;return r}}function J(e){var t=H(e,i);if(!z(t))throw new TypeError;var r=t.call(e);if(!U(r))throw new TypeError;return r}function Q(e){return e.value}function Y(e){var t=e.next();return!t.done&&t}function X(e){var t=e.return;t&&t.call(e)}function Z(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var i=n.constructor;return"function"!=typeof i||i===e?t:i}function ee(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,s)},t.prototype.entries=function(){return new r(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function s(e,t){return t}function o(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new l}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function re(){var e=16,r=p.create(),n=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=s(e,!1);return void 0!==t&&p.has(t,this._key)},e.prototype.get=function(e){var t=s(e,!1);return void 0!==t?p.get(t,this._key):void 0},e.prototype.set=function(e,t){return s(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=s(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+u()}while(p.has(r,e));return r[e]=!0,e}function s(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:p.create()})}return e[n]}function o(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function a(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e):o(new Array(e),e)}function u(){var t=a(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",n=0;n<e;++n){var i=t[n];4!==n&&6!==n&&8!==n||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}function ne(e){return e.__=void 0,delete e.__,e}e("decorate",y),e("metadata",d),e("defineMetadata",v),e("hasMetadata",g),e("hasOwnMetadata",m),e("getMetadata",_),e("getOwnMetadata",b),e("getMetadataKeys",w),e("getOwnMetadataKeys",N),e("deleteMetadata",O)}(n)}()}(n||(n={}))}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";var e;r(193),r(937);class t extends Error{constructor(e,t){super(`[melon] ${t} at line ${e}.`)}}class n extends t{constructor(e,t){super(e,`Runtime Error: ${t}`)}}class i extends t{constructor(e,t){super(e,`Compilation Error: ${t}`)}}class s extends t{constructor(e,t){super(e,`Syntax Error: ${t}`)}}class o extends t{constructor(e){super(-1,`There might be a bug in the melon compiler: ${e}`)}}class a extends n{constructor(e,t){super(e,`Variable ${t} was not declared`)}}class p extends n{constructor(e,t){super(e,`Variable ${t} is already declared`)}}class u extends i{constructor(e,t){super(e,`Variable ${t} is already declared in this scope`)}}class c extends n{constructor(e,t,r,n){super(e,`Function ${t} expects ${r} argument(s), got ${n}`)}}class l extends n{constructor(e,t,r,n){super(e,`Function ${t} expects ${r} argument(s), got ${n}`)}}class h extends i{constructor(e,t,r,n){super(e,`Native function ${t} expects ${r} argument(s), got ${n}`)}}class f extends n{constructor(e,t,r){super(e,`Invalid operation ${t} on type ${r}`)}}class y extends n{constructor(e,t,r,n=""){super(e,`${n} Expected ${t}, got ${r}`)}}class d extends n{constructor(e,t,r,n=""){super(e,`${n} Expected ${t.join("or")} got ${r}`)}}class v extends n{constructor(e){super(e,"Division by zero")}}class g extends n{constructor(e,t){super(e,t)}}class m extends n{constructor(e){super(e,"List index out of range")}}class _ extends n{constructor(e,t){super(e,`The key '${t}' does not exist in the dictionary`)}}class b extends n{constructor(e,t,r){super(e,`${t} has no such member ${r}`)}}!function(e){e.NUMBER="NUMBER",e.PLUS="PLUS",e.MINUS="MINUS",e.MUL="MUL",e.DIV="DIV",e.LPAREN="LPAREN",e.RPAREN="RPAREN",e.MOD="MOD",e.EOF="EOF",e.IF="IF",e.ELSE="ELSE",e.WHILE="WHILE",e.FOR="FOR",e.FUNCTION="FUNCTION",e.IDENTIFIER="IDENTIFIER",e.STRING="STRING",e.COMMA="COMMA",e.LBRACE="LBRACE",e.RBRACE="RBRACE",e.LBRACKET="LBRACKET",e.RBRACKET="RBRACKET",e.ASSIGN="ASSIGN",e.PLUS_ASSIGN="PLUS_ASSIGN",e.MINUS_ASSIGN="MINUS_ASSIGN",e.MUL_ASSIGN="MUL_ASSIGN",e.DIV_ASSIGN="DIV_ASSIGN",e.MOD_ASSIGN="MOD_ASSIGN",e.EQ="EQ",e.NEQ="NEQ",e.LT="LT",e.GT="GT",e.LTE="LTE",e.GTE="GTE",e.AND="AND",e.OR="OR",e.NOT="NOT",e.TRUE="TRUE",e.FALSE="FALSE",e.RETURN="RETURN",e.BREAK="BREAK",e.CONTINUE="CONTINUE",e.SEMICOLON="SEMICOLON",e.COLON="COLON",e.LET="LET",e.INC="INC",e.DEC="DEC",e.NULL="NULL",e.IMPORT="IMPORT",e.DOT="DOT",e.POW_ASSIGN="POW_ASSIGN",e.POW="POW"}(e||(e={}));const w=class{text;pos;line;column;constructor(e){this.text=e,this.pos=0,this.line=1,this.column=1}peek(e=0){return this.pos+e>=this.text.length?"\0":this.text[this.pos+e]}advance(e=1){for(let t=0;t<e;t++)this.pos++,this.pos>this.text.length&&this.error(),"\n"===this.peek()?(this.line++,this.column=1):this.column++}error(e){throw new SyntaxError(`Invalid character at ${this.line}:${this.column} '${"\0"===this.peek()?"EOF":this.peek()}'`+(e?`: ${e}`:""))}run(){const t=[];do{const r=this.peek();if(" "===r||"\t"===r||"\n"===r)this.advance();else if("+"===r)"+"===this.peek(1)?(t.push({type:e.INC,value:"++",line:this.line}),this.advance(2)):"="===this.peek(1)?(t.push({type:e.PLUS_ASSIGN,value:"+=",line:this.line}),this.advance(2)):(t.push({type:e.PLUS,value:r,line:this.line}),this.advance());else if("-"===r)"-"===this.peek(1)?(t.push({type:e.DEC,value:"--",line:this.line}),this.advance(2)):"="===this.peek(1)?(t.push({type:e.MINUS_ASSIGN,value:"-=",line:this.line}),this.advance(2)):(t.push({type:e.MINUS,value:r,line:this.line}),this.advance());else if("*"===r)"="===this.peek(1)?(t.push({type:e.MUL_ASSIGN,value:"*=",line:this.line}),this.advance(2)):"*"===this.peek(1)?"="===this.peek(2)?(t.push({type:e.POW_ASSIGN,value:"**=",line:this.line}),this.advance(3)):(t.push({type:e.POW,value:"**",line:this.line}),this.advance(2)):(t.push({type:e.MUL,value:r,line:this.line}),this.advance());else if("%"===r)"="===this.peek(1)?(t.push({type:e.MOD_ASSIGN,value:"%=",line:this.line}),this.advance(2)):(t.push({type:e.MOD,value:r,line:this.line}),this.advance());else if(":"===r)t.push({type:e.COLON,value:":",line:this.line}),this.advance();else if("/"===r)if("/"===this.peek(1))for(;"\n"!==this.peek()&&"\0"!==this.peek();)this.advance();else if("*"===this.peek(1)){for(this.advance(2);"*"!==this.peek()||"/"!==this.peek(1);)this.advance();this.advance(2)}else"="===this.peek(1)?(t.push({type:e.DIV_ASSIGN,value:"/=",line:this.line}),this.advance(2)):(t.push({type:e.DIV,value:r,line:this.line}),this.advance());else if("("===r)t.push({type:e.LPAREN,value:r,line:this.line}),this.advance();else if(")"===r)t.push({type:e.RPAREN,value:r,line:this.line}),this.advance();else if("{"===r)t.push({type:e.LBRACE,value:r,line:this.line}),this.advance();else if("}"===r)t.push({type:e.RBRACE,value:r,line:this.line}),this.advance();else if("["===r)t.push({type:e.LBRACKET,value:r,line:this.line}),this.advance();else if("]"===r)t.push({type:e.RBRACKET,value:r,line:this.line}),this.advance();else if(","===r)t.push({type:e.COMMA,value:r,line:this.line}),this.advance();else if("="===r)"="===this.peek(1)?(t.push({type:e.EQ,value:"==",line:this.line}),this.advance(2)):(t.push({type:e.ASSIGN,value:r,line:this.line}),this.advance());else if("<"===r)"="===this.peek(1)?(t.push({type:e.LTE,value:"<=",line:this.line}),this.advance(2)):(t.push({type:e.LT,value:r,line:this.line}),this.advance());else if(">"===r)"="===this.peek(1)?(t.push({type:e.GTE,value:">=",line:this.line}),this.advance(2)):(t.push({type:e.GT,value:r,line:this.line}),this.advance());else if("!"===r)"="===this.peek(1)?(t.push({type:e.NEQ,value:"!=",line:this.line}),this.advance(2)):(t.push({type:e.NOT,value:r,line:this.line}),this.advance());else if(";"===r)t.push({type:e.SEMICOLON,value:r,line:this.line}),this.advance();else if("&"===r)"&"===this.peek(1)?(t.push({type:e.AND,value:"&&",line:this.line}),this.advance(2)):this.error();else if("|"===r)"|"===this.peek(1)?(t.push({type:e.OR,value:"||",line:this.line}),this.advance(2)):this.error();else if('"'===r){let r="";for(this.advance();'"'!==this.peek();)"\\"===this.peek()?(this.advance(),"n"===this.peek()?r+="\n":"t"===this.peek()?r+="\t":"r"===this.peek()?r+="\r":"0"===this.peek()?r+="\0":"\\"===this.peek()?r+="\\":'"'===this.peek()?r+='"':this.error("Invalid escape character"),this.advance()):(r+=this.peek(),this.advance());this.advance(),t.push({type:e.STRING,value:r,line:this.line})}else if("."===r){let n=r;for(this.advance();/[0-9]/.test(this.peek());)n+=this.peek(),this.advance();"."===n?t.push({type:e.DOT,value:n,line:this.line}):t.push({type:e.NUMBER,value:n,line:this.line})}else if(/[0-9]/.test(r)){let r="";for(;/[0-9]/.test(this.peek());)r+=this.peek(),this.advance();if("."===this.peek())for(r+=".",this.advance();/[0-9]/.test(this.peek());)r+=this.peek(),this.advance();t.push({type:e.NUMBER,value:r,line:this.line})}else if(/[a-zA-Z_]/.test(r)){let r="";for(;/[a-zA-Z_0-9]/.test(this.peek());)r+=this.peek(),this.advance();"if"===r?t.push({type:e.IF,value:r,line:this.line}):"else"===r?t.push({type:e.ELSE,value:r,line:this.line}):"while"===r?t.push({type:e.WHILE,value:r,line:this.line}):"for"===r?t.push({type:e.FOR,value:r,line:this.line}):"function"===r?t.push({type:e.FUNCTION,value:r,line:this.line}):"true"===r?t.push({type:e.TRUE,value:r,line:this.line}):"false"===r?t.push({type:e.FALSE,value:r,line:this.line}):"return"===r?t.push({type:e.RETURN,value:r,line:this.line}):"break"===r?t.push({type:e.BREAK,value:r,line:this.line}):"continue"===r?t.push({type:e.CONTINUE,value:r,line:this.line}):"let"===r?t.push({type:e.LET,value:r,line:this.line}):"null"===r?t.push({type:e.NULL,value:r,line:this.line}):"import"===r?t.push({type:e.IMPORT,value:r,line:this.line}):t.push({type:e.IDENTIFIER,value:r,line:this.line})}else"\0"===r?t.push({type:e.EOF,value:r,line:this.line}):this.error()}while(this.pos<=this.text.length&&t.at(-1)?.type!==e.EOF);return t}};class N{lineNumber;static Literal(e,t){const r=new T;return r.value=e,r.lineNumber=t,r}static Identifier(e,t){const r=new E;return r.name=e,r.lineNumber=t,r}static VariableDeclaration(e,t,r){const n=new U;return n.name=e,n.value=t,n.lineNumber=r,n}static VariableAssignment(e,t,r,n){const i=new F;return i.name=e,i.value=t,i.op=r,i.lineNumber=n,i}static Call(e,t,r){const n=new k;return n.func=e,n.args=t,n.lineNumber=r,n}static Block(e,t){const r=new x;return r.nodes=e,r.lineNumber=t,r}static BreakStatement(e){const t=new M;return t.lineNumber=e,t}static ContinueStatement(e){const t=new C;return t.lineNumber=e,t}static UnaryOperation(e,t,r,n){const i=new A;return i.op=e,i.rand=t,i.prefix=r,i.lineNumber=n,i}static BinaryOperation(e,t,r,n){const i=new I;return i.op=e,i.lhs=t,i.rhs=r,i.lineNumber=n,i}static If(e,t,r,n){const i=new j;return i.condition=e,i.then=t,i.else=n,i.lineNumber=r,i}static While(e,t,r){const n=new P;return n.condition=e,n.body=t,n.lineNumber=r,n}static For(e,t,r,n,i){const s=new L;return s.init=e,s.condition=t,s.update=r,s.body=n,s.lineNumber=i,s}static FunctionDeclaration(e,t,r,n){const i=new R;return i.name=e,i.params=t,i.body=r,i.lineNumber=n,i}static Return(e,t){const r=new D;return r.value=e,r.lineNumber=t,r}static ExpressionStatement(e,t){const r=new G;return r.expression=e,r.lineNumber=t,r}static ImportStatement(e,t){const r=new S;return r.path=e,r.lineNumber=t,r}static Tuple(e,t){const r=new B;return r.elements=e,r.lineNumber=t,r}static List(e,t){const r=new $;return r.elements=e,r.lineNumber=t,r}static Subscript(e,t,r){const n=new q;return n.name=e,n.key=t,n.lineNumber=r,n}static MemberAccess(e,t,r){const n=new O;return n.name=t,n.object=e,n.lineNumber=r,n}static EmptyStatement(e){const t=new z;return t.lineNumber=e,t}static Dict(e){const t=new V;return t.lineNumber=e,t.entries=new Map,t}}class O extends N{object;name}class S extends N{path}class T extends N{value}class E extends N{name}class k extends N{func;args}class x extends N{nodes}class A extends N{op;rand;prefix}class I extends N{op;lhs;rhs}class M extends N{}class C extends N{}class j extends N{condition;then;else}class P extends N{condition;body}class L extends N{init;condition;update;body}class R extends N{name;params;body}class D extends N{value}class U extends N{name;value}class F extends N{name;value;op}class G extends N{expression}class B extends N{elements}class $ extends N{elements}class V extends N{entries}class q extends N{name;key}class z extends N{}class W{tokens;pos=0;loopDepth=0;constructor(e){this.tokens=e}peek(e=0){return this.pos+e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[this.pos+e]}advance(e=1){for(let t=0;t<e;t++)this.pos++}run(){const t=[];for(;this.peek().type!==e.EOF;){const e=this.declaration();t.push(e)}return t}declaration(){const t=this.peek();return t.type===e.FUNCTION?this.function():t.type===e.LET?this.variableDecleration():this.statement()}statement(){switch(this.peek().type){case e.RETURN:return this.return();case e.IF:return this.if();case e.WHILE:return this.while();case e.FOR:return this.for();case e.LBRACE:return this.peek(1).type===e.RBRACE||this.peek(1).type===e.STRING&&this.peek(2).type===e.COLON?this.expressionStatement():this.block();case e.IMPORT:return this.import();case e.SEMICOLON:return this.empty();case e.BREAK:return this.break();case e.CONTINUE:return this.continue();default:return this.expressionStatement()}}continue(){0===this.loopDepth&&this.error(this.peek().line,"Unexpected 'continue' statement outside of loop");const t=this.peek().line;return this.advance(),this.peek().type!==e.SEMICOLON&&this.error(t,"Expected ';' after 'continue' statement"),this.advance(),N.ContinueStatement(t)}break(){0===this.loopDepth&&this.error(this.peek().line,"Unexpected 'break' statement outside of loop");const t=this.peek().line;return this.advance(),this.peek().type!==e.SEMICOLON&&this.error(t,"Expected ';' after 'break' statement"),this.advance(),N.BreakStatement(t)}empty(){const e=this.peek().line;return this.advance(),N.EmptyStatement(e)}import(){const t=this.peek().line;this.advance();const r=this.peek();return r.type!==e.IDENTIFIER&&this.error(t,"Expected identifier after 'import'"),this.advance(),this.peek().type===e.SEMICOLON&&this.advance(),N.ImportStatement(r,t)}expressionStatement(t=!1){const r=this.peek().line,n=this.expression();return t&&this.peek().type!==e.SEMICOLON&&this.error(r,"Expected ';' after variable declaration"),this.peek().type===e.SEMICOLON&&this.advance(),N.ExpressionStatement(n,r)}variableDecleration(t=!1){this.advance();const r=this.peek().line,n=this.peek();n.type!==e.IDENTIFIER&&this.error(r,"Expected identifier after 'let'"),this.advance(),this.peek().type!==e.ASSIGN&&this.error(r,"Expected '=' after identifier"),this.advance();const i=this.expression();return t&&this.peek().type!==e.SEMICOLON&&this.error(r,"Expected ';' after variable declaration"),this.peek().type===e.SEMICOLON&&this.advance(),N.VariableDeclaration(n,i,r)}while(){const t=this.peek().line;this.loopDepth++,this.advance(),this.peek().type!==e.LPAREN&&this.error(t,"Expected '(' after 'while'"),this.advance();const r=this.expression();this.peek().type!==e.RPAREN&&this.error(t,"Expected ')' after condition"),this.advance();const n=this.block();return this.loopDepth--,N.While(r,n,t)}for(){const t=this.peek().line;let r,n,i;this.loopDepth++,this.advance(),this.peek().type!==e.LPAREN&&this.error(t,"Expected '(' after 'for'"),this.advance(),r=this.peek().type===e.LET?this.variableDecleration(!0):this.peek().type===e.SEMICOLON?this.empty():this.expressionStatement(!0),this.peek().type===e.SEMICOLON?n=this.empty():(n=this.expression(),this.peek().type!==e.SEMICOLON&&this.error(t,"Expected ';' after condition"),this.advance()),this.peek().type===e.RPAREN?i=this.empty():(i=this.expressionStatement(!1),this.peek().type!==e.RPAREN&&this.error(t,"Expected ')' after update statement"),this.advance());const s=this.block();return this.loopDepth--,N.For(r,n,i,s,t)}if(){const t=this.peek().line;this.advance(),this.peek().type!==e.LPAREN&&this.error(t,"Expected '(' after 'if'"),this.advance();const r=this.expression();this.peek().type!==e.RPAREN&&this.error(t,"Expected ')' after condition"),this.advance();const n=this.block();if(this.peek().type===e.ELSE){this.advance();const e=this.block();return N.If(r,n,t,e)}return N.If(r,n,t)}return(){const t=this.peek().line;this.advance();const r=this.expression();this.peek();return this.peek().type===e.SEMICOLON&&this.advance(),N.Return(r,t)}function(){const t=this.peek().line;this.advance();const r=this.peek();this.advance(),this.peek().type!==e.LPAREN&&this.error(t,"Expected '(' after function name"),this.advance();const n=[];for(;this.peek().type!==e.RPAREN;){if(this.peek().type!==e.IDENTIFIER&&this.error(t,"Expected identifier in parameter list"),n.push(this.peek()),this.advance(),this.peek().type!==e.COMMA){this.peek().type!==e.RPAREN&&this.error(t,"Expected ')' after parameter list");break}this.advance()}this.advance();const i=this.block();return N.FunctionDeclaration(r,n,i,t)}block(){const t=this.peek().line;if(this.peek().type!==e.LBRACE)return N.Block([this.statement()],t);this.advance();const r=[];for(;this.peek().type!==e.RBRACE;)r.push(this.declaration());return this.advance(),N.Block(r,t)}expression(){return this.assignment()}assignment(){let t=this.or();for(;this.peek().type===e.ASSIGN||this.peek().type===e.PLUS_ASSIGN||this.peek().type===e.MINUS_ASSIGN||this.peek().type===e.MOD_ASSIGN||this.peek().type===e.DIV_ASSIGN||this.peek().type===e.MUL_ASSIGN||this.peek().type===e.POW_ASSIGN;){let e=this.peek();this.advance();const r=this.or();t=N.VariableAssignment(t,r,e,e.line)}return t}or(){const t=this.peek().line;let r=this.and();for(;this.peek().type===e.OR;){const e=this.peek();this.advance();const n=this.and();r=N.BinaryOperation(e,r,n,t)}return r}and(){const t=this.peek().line;let r=this.equality();for(;this.peek().type===e.AND;){const e=this.peek();this.advance();const n=this.equality();r=N.BinaryOperation(e,r,n,t)}return r}equality(){const t=this.peek().line;let r=this.comparison();for(;this.peek().type===e.EQ||this.peek().type===e.NEQ;){const e=this.peek();this.advance();const n=this.comparison();r=N.BinaryOperation(e,r,n,t)}return r}comparison(){const t=this.peek().line;let r=this.term();for(;this.peek().type===e.GT||this.peek().type===e.GTE||this.peek().type===e.LT||this.peek().type===e.LTE;){const e=this.peek();this.advance();const n=this.term();r=N.BinaryOperation(e,r,n,t)}return r}term(){const t=this.peek().line;let r=this.factor();for(;this.peek().type===e.PLUS||this.peek().type===e.MINUS;){const e=this.peek();this.advance();const n=this.factor();r=N.BinaryOperation(e,r,n,t)}return r}factor(){const t=this.peek().line;let r=this.exponent();for(;this.peek().type===e.MUL||this.peek().type===e.DIV||this.peek().type===e.MOD;){const e=this.peek();this.advance();const n=this.exponent();r=N.BinaryOperation(e,r,n,t)}return r}exponent(){const t=this.peek().line;let r=this.prefixunary();for(;this.peek().type===e.POW;){const e=this.peek();this.advance();const n=this.prefixunary();r=N.BinaryOperation(e,r,n,t)}return r}prefixunary(){let t=this.peek();const r=this.peek().line;if(t.type===e.MINUS||t.type===e.NOT||t.type===e.INC||t.type===e.DEC){this.advance();const e=this.prefixunary();return N.UnaryOperation(t,e,!0,r)}return this.suffixunary()}suffixunary(){const t=this.subscriptcall(),r=this.peek(),n=this.peek().line;return r.type===e.INC||r.type===e.DEC?(this.advance(),t instanceof E||this.error(n,"Expected identifier before increment/decrement operator"),N.UnaryOperation(r,t,!1,n)):t}subscriptcall(){let t=this.primary();const r=this.peek().line;for(;;)if(this.peek().type===e.LBRACKET){this.advance();const n=this.expression();this.peek().type!==e.RBRACKET&&this.error(r,"Expected ']' after index"),this.advance(),t=N.Subscript(t,n,r)}else if(this.peek().type===e.LPAREN){this.advance();const n=[];for(;this.peek().type!==e.RPAREN;)n.push(this.expression()),this.peek().type!==e.COMMA&&this.peek().type!==e.RPAREN?this.error(r,"Expected ')' after argument list"):this.peek().type===e.COMMA&&this.advance();this.advance(),t=N.Call(t,n,r)}else{if(this.peek().type!==e.DOT)break;{this.advance();const n=this.peek();n.type!==e.IDENTIFIER&&this.error(r,"Expected identifier after '.'"),this.advance(),t=N.MemberAccess(t,n,r)}}return t}primary(){const t=this.peek(),r=t.line;switch(t.type){case e.NULL:case e.TRUE:case e.FALSE:case e.NUMBER:case e.STRING:return this.advance(),N.Literal(t,r);case e.IDENTIFIER:return this.advance(),N.Identifier(t,r);case e.LPAREN:if(this.advance(),this.peek().type===e.RPAREN)return this.advance(),N.Tuple([],r);let n=this.expression();if(this.peek().type===e.COMMA){const t=[n];for(;this.peek().type===e.COMMA;)this.advance(),this.peek().type!==e.RPAREN&&t.push(this.expression());n=N.Tuple(t,r)}return this.peek().type!==e.RPAREN&&this.error(r,"Expected ')' after expression"),this.advance(),n;case e.LBRACKET:this.advance();const i=[];for(;this.peek().type!==e.RBRACKET;)i.push(this.expression()),this.peek().type!==e.COMMA&&this.peek().type!==e.RBRACKET?this.error(r,"Expected ']' after element list"):this.peek().type===e.COMMA&&this.advance();return this.advance(),N.List(i,r);case e.LBRACE:this.advance();const s=N.Dict(r);for(;this.peek().type!==e.RBRACE;){this.peek().type!=e.STRING&&this.error(r,"Expected a string");const t=this.peek().value;this.advance(),this.peek().type!==e.COLON&&this.error(r,"Expected a colon (:)"),this.advance();const n=this.expression();s.entries.set(t,n),this.peek().type===e.COMMA?this.advance():this.peek().type!==e.RBRACE&&this.error(r,"Expected a right curly brace (})")}return this.advance(),s;default:return this.error(r,"Unexpected token in expression: "+t.type),N.Literal(t,r)}}error(e,t){throw new s(e,"Parser error at line "+this.peek().line+": "+(t||"Unexpected token"))}}function K(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function H(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var J;!function(e){e[e.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",e[e.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",e[e.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"}(J||(J={}));var Q=new(function(){function e(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return e.prototype.addTypeMetadata=function(e){this._typeMetadatas.has(e.target)||this._typeMetadatas.set(e.target,new Map),this._typeMetadatas.get(e.target).set(e.propertyName,e)},e.prototype.addTransformMetadata=function(e){this._transformMetadatas.has(e.target)||this._transformMetadatas.set(e.target,new Map),this._transformMetadatas.get(e.target).has(e.propertyName)||this._transformMetadatas.get(e.target).set(e.propertyName,[]),this._transformMetadatas.get(e.target).get(e.propertyName).push(e)},e.prototype.addExposeMetadata=function(e){this._exposeMetadatas.has(e.target)||this._exposeMetadatas.set(e.target,new Map),this._exposeMetadatas.get(e.target).set(e.propertyName,e)},e.prototype.addExcludeMetadata=function(e){this._excludeMetadatas.has(e.target)||this._excludeMetadatas.set(e.target,new Map),this._excludeMetadatas.get(e.target).set(e.propertyName,e)},e.prototype.findTransformMetadatas=function(e,t,r){return this.findMetadatas(this._transformMetadatas,e,t).filter((function(e){return!e.options||(!0===e.options.toClassOnly&&!0===e.options.toPlainOnly||(!0===e.options.toClassOnly?r===J.CLASS_TO_CLASS||r===J.PLAIN_TO_CLASS:!0!==e.options.toPlainOnly||r===J.CLASS_TO_PLAIN))}))},e.prototype.findExcludeMetadata=function(e,t){return this.findMetadata(this._excludeMetadatas,e,t)},e.prototype.findExposeMetadata=function(e,t){return this.findMetadata(this._exposeMetadatas,e,t)},e.prototype.findExposeMetadataByCustomName=function(e,t){return this.getExposedMetadatas(e).find((function(e){return e.options&&e.options.name===t}))},e.prototype.findTypeMetadata=function(e,t){return this.findMetadata(this._typeMetadatas,e,t)},e.prototype.getStrategy=function(e){var t=this._excludeMetadatas.get(e),r=t&&t.get(void 0),n=this._exposeMetadatas.get(e),i=n&&n.get(void 0);return r&&i||!r&&!i?"none":r?"excludeAll":"exposeAll"},e.prototype.getExposedMetadatas=function(e){return this.getMetadata(this._exposeMetadatas,e)},e.prototype.getExcludedMetadatas=function(e){return this.getMetadata(this._excludeMetadatas,e)},e.prototype.getExposedProperties=function(e,t){return this.getExposedMetadatas(e).filter((function(e){return!e.options||(!0===e.options.toClassOnly&&!0===e.options.toPlainOnly||(!0===e.options.toClassOnly?t===J.CLASS_TO_CLASS||t===J.PLAIN_TO_CLASS:!0!==e.options.toPlainOnly||t===J.CLASS_TO_PLAIN))})).map((function(e){return e.propertyName}))},e.prototype.getExcludedProperties=function(e,t){return this.getExcludedMetadatas(e).filter((function(e){return!e.options||(!0===e.options.toClassOnly&&!0===e.options.toPlainOnly||(!0===e.options.toClassOnly?t===J.CLASS_TO_CLASS||t===J.PLAIN_TO_CLASS:!0!==e.options.toPlainOnly||t===J.CLASS_TO_PLAIN))})).map((function(e){return e.propertyName}))},e.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},e.prototype.getMetadata=function(e,t){var r,n=e.get(t);n&&(r=Array.from(n.values()).filter((function(e){return void 0!==e.propertyName})));for(var i=[],s=0,o=this.getAncestors(t);s<o.length;s++){var a=o[s],p=e.get(a);if(p){var u=Array.from(p.values()).filter((function(e){return void 0!==e.propertyName}));i.push.apply(i,u)}}return i.concat(r||[])},e.prototype.findMetadata=function(e,t,r){var n=e.get(t);if(n){var i=n.get(r);if(i)return i}for(var s=0,o=this.getAncestors(t);s<o.length;s++){var a=o[s],p=e.get(a);if(p){var u=p.get(r);if(u)return u}}},e.prototype.findMetadatas=function(e,t,r){var n,i=e.get(t);i&&(n=i.get(r));for(var s=[],o=0,a=this.getAncestors(t);o<a.length;o++){var p=a[o],u=e.get(p);u&&u.has(r)&&s.push.apply(s,u.get(r))}return s.slice().reverse().concat((n||[]).slice().reverse())},e.prototype.getAncestors=function(e){if(!e)return[];if(!this._ancestorsMap.has(e)){for(var t=[],r=Object.getPrototypeOf(e.prototype.constructor);void 0!==r.prototype;r=Object.getPrototypeOf(r.prototype.constructor))t.push(r);this._ancestorsMap.set(e,t)}return this._ancestorsMap.get(e)},e}());function Y(e,t){return void 0===t&&(t={}),function(r,n){var i=Reflect.getMetadata("design:type",r,n);Q.addTypeMetadata({target:r.constructor,propertyName:n,reflectedType:i,typeFunction:e,options:t})}}var X=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};var Z=function(){function e(e,t){this.transformationType=e,this.options=t,this.recursionStack=new Set}return e.prototype.transform=function(e,t,n,i,s,o){var a,p=this;if(void 0===o&&(o=0),Array.isArray(t)||t instanceof Set){var u=i&&this.transformationType===J.PLAIN_TO_CLASS?function(e){var t=new e;return t instanceof Set||"push"in t?t:[]}(i):[];return t.forEach((function(t,r){var i=e?e[r]:void 0;if(p.options.enableCircularCheck&&p.isCircular(t))p.transformationType===J.CLASS_TO_CLASS&&(u instanceof Set?u.add(t):u.push(t));else{var s=void 0;if("function"!=typeof n&&n&&n.options&&n.options.discriminator&&n.options.discriminator.property&&n.options.discriminator.subTypes){if(p.transformationType===J.PLAIN_TO_CLASS){s=n.options.discriminator.subTypes.find((function(e){return e.name===t[n.options.discriminator.property]}));var a={newObject:u,object:t,property:void 0},c=n.typeFunction(a);s=void 0===s?c:s.value,n.options.keepDiscriminatorProperty||delete t[n.options.discriminator.property]}p.transformationType===J.CLASS_TO_CLASS&&(s=t.constructor),p.transformationType===J.CLASS_TO_PLAIN&&(t[n.options.discriminator.property]=n.options.discriminator.subTypes.find((function(e){return e.value===t.constructor})).name)}else s=n;var l=p.transform(i,t,s,void 0,t instanceof Map,o+1);u instanceof Set?u.add(l):u.push(l)}})),u}if(n!==String||s){if(n!==Number||s){if(n!==Boolean||s){if((n===Date||t instanceof Date)&&!s)return t instanceof Date?new Date(t.valueOf()):null==t?t:new Date(t);if(("undefined"!=typeof globalThis?globalThis:void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0).Buffer&&(n===Buffer||t instanceof Buffer)&&!s)return null==t?t:Buffer.from(t);if(null===(a=t)||"object"!=typeof a||"function"!=typeof a.then||s){if(s||null===t||"object"!=typeof t||"function"!=typeof t.then){if("object"==typeof t&&null!==t){n||t.constructor===Object||(Array.isArray(t)||t.constructor!==Array)&&(n=t.constructor),!n&&e&&(n=e.constructor),this.options.enableCircularCheck&&this.recursionStack.add(t);var c=this.getKeys(n,t,s),l=e||{};e||this.transformationType!==J.PLAIN_TO_CLASS&&this.transformationType!==J.CLASS_TO_CLASS||(l=s?new Map:n?new n:{});for(var h=function(r){if("__proto__"===r||"constructor"===r)return"continue";var i=r,a=r,p=r;if(!f.options.ignoreDecorators&&n)if(f.transformationType===J.PLAIN_TO_CLASS)(u=Q.findExposeMetadataByCustomName(n,r))&&(p=u.propertyName,a=u.propertyName);else if(f.transformationType===J.CLASS_TO_PLAIN||f.transformationType===J.CLASS_TO_CLASS){var u;(u=Q.findExposeMetadata(n,r))&&u.options&&u.options.name&&(a=u.options.name)}var c=void 0;c=f.transformationType===J.PLAIN_TO_CLASS?t[i]:t instanceof Map?t.get(i):t[i]instanceof Function?t[i]():t[i];var h=void 0,y=c instanceof Map;if(n&&s)h=n;else if(n){var d=Q.findTypeMetadata(n,p);if(d){var v={newObject:l,object:t,property:p},g=d.typeFunction?d.typeFunction(v):d.reflectedType;d.options&&d.options.discriminator&&d.options.discriminator.property&&d.options.discriminator.subTypes?t[i]instanceof Array?h=d:(f.transformationType===J.PLAIN_TO_CLASS&&(h=void 0===(h=d.options.discriminator.subTypes.find((function(e){if(c&&c instanceof Object&&d.options.discriminator.property in c)return e.name===c[d.options.discriminator.property]})))?g:h.value,d.options.keepDiscriminatorProperty||c&&c instanceof Object&&d.options.discriminator.property in c&&delete c[d.options.discriminator.property]),f.transformationType===J.CLASS_TO_CLASS&&(h=c.constructor),f.transformationType===J.CLASS_TO_PLAIN&&c&&(c[d.options.discriminator.property]=d.options.discriminator.subTypes.find((function(e){return e.value===c.constructor})).name)):h=g,y=y||d.reflectedType===Map}else if(f.options.targetMaps)f.options.targetMaps.filter((function(e){return e.target===n&&!!e.properties[p]})).forEach((function(e){return h=e.properties[p]}));else if(f.options.enableImplicitConversion&&f.transformationType===J.PLAIN_TO_CLASS){var m=Reflect.getMetadata("design:type",n.prototype,p);m&&(h=m)}}var _=Array.isArray(t[i])?f.getReflectedType(n,p):void 0,b=e?e[i]:void 0;if(l.constructor.prototype){var w=Object.getOwnPropertyDescriptor(l.constructor.prototype,a);if((f.transformationType===J.PLAIN_TO_CLASS||f.transformationType===J.CLASS_TO_CLASS)&&(w&&!w.set||l[a]instanceof Function))return"continue"}if(f.options.enableCircularCheck&&f.isCircular(c)){if(f.transformationType===J.CLASS_TO_CLASS){O=c;(void 0!==(O=f.applyCustomTransformations(O,n,r,t,f.transformationType))||f.options.exposeUnsetFields)&&(l instanceof Map?l.set(a,O):l[a]=O)}}else{var N=f.transformationType===J.PLAIN_TO_CLASS?a:r,O=void 0;f.transformationType===J.CLASS_TO_PLAIN?(O=t[N],O=f.applyCustomTransformations(O,n,N,t,f.transformationType),O=t[N]===O?c:O,O=f.transform(b,O,h,_,y,o+1)):void 0===c&&f.options.exposeDefaultValues?O=l[a]:(O=f.transform(b,c,h,_,y,o+1),O=f.applyCustomTransformations(O,n,N,t,f.transformationType)),(void 0!==O||f.options.exposeUnsetFields)&&(l instanceof Map?l.set(a,O):l[a]=O)}},f=this,y=0,d=c;y<d.length;y++){h(d[y])}return this.options.enableCircularCheck&&this.recursionStack.delete(t),l}return t}return t}return new Promise((function(e,r){t.then((function(t){return e(p.transform(void 0,t,n,void 0,void 0,o+1))}),r)}))}return null==t?t:Boolean(t)}return null==t?t:Number(t)}return null==t?t:String(t)},e.prototype.applyCustomTransformations=function(e,t,r,n,i){var s=this,o=Q.findTransformMetadatas(t,r,this.transformationType);return void 0!==this.options.version&&(o=o.filter((function(e){return!e.options||s.checkVersion(e.options.since,e.options.until)}))),(o=this.options.groups&&this.options.groups.length?o.filter((function(e){return!e.options||s.checkGroups(e.options.groups)})):o.filter((function(e){return!e.options||!e.options.groups||!e.options.groups.length}))).forEach((function(t){e=t.transformFn({value:e,key:r,obj:n,type:i,options:s.options})})),e},e.prototype.isCircular=function(e){return this.recursionStack.has(e)},e.prototype.getReflectedType=function(e,t){if(e){var r=Q.findTypeMetadata(e,t);return r?r.reflectedType:void 0}},e.prototype.getKeys=function(e,t,r){var n=this,i=Q.getStrategy(e);"none"===i&&(i=this.options.strategy||"exposeAll");var s=[];if(("exposeAll"===i||r)&&(s=t instanceof Map?Array.from(t.keys()):Object.keys(t)),r)return s;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&e){var o=Q.getExposedProperties(e,this.transformationType),a=Q.getExcludedProperties(e,this.transformationType);s=X(X([],o,!0),a,!0)}if(!this.options.ignoreDecorators&&e){o=Q.getExposedProperties(e,this.transformationType);this.transformationType===J.PLAIN_TO_CLASS&&(o=o.map((function(t){var r=Q.findExposeMetadata(e,t);return r&&r.options&&r.options.name?r.options.name:t}))),s=this.options.excludeExtraneousValues?o:s.concat(o);var p=Q.getExcludedProperties(e,this.transformationType);p.length>0&&(s=s.filter((function(e){return!p.includes(e)}))),void 0!==this.options.version&&(s=s.filter((function(t){var r=Q.findExposeMetadata(e,t);return!r||!r.options||n.checkVersion(r.options.since,r.options.until)}))),s=this.options.groups&&this.options.groups.length?s.filter((function(t){var r=Q.findExposeMetadata(e,t);return!r||!r.options||n.checkGroups(r.options.groups)})):s.filter((function(t){var r=Q.findExposeMetadata(e,t);return!(r&&r.options&&r.options.groups&&r.options.groups.length)}))}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(s=s.filter((function(e){return n.options.excludePrefixes.every((function(t){return e.substr(0,t.length)!==t}))}))),s=s.filter((function(e,t,r){return r.indexOf(e)===t}))},e.prototype.checkVersion=function(e,t){var r=!0;return r&&e&&(r=this.options.version>=e),r&&t&&(r=this.options.version<t),r},e.prototype.checkGroups=function(e){return!e||this.options.groups.some((function(t){return e.includes(t)}))},e}(),ee={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},te=function(){return te=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},te.apply(this,arguments)},re=new(function(){function e(){}return e.prototype.instanceToPlain=function(e,t){return new Z(J.CLASS_TO_PLAIN,te(te({},ee),t)).transform(void 0,e,void 0,void 0,void 0,void 0)},e.prototype.classToPlainFromExist=function(e,t,r){return new Z(J.CLASS_TO_PLAIN,te(te({},ee),r)).transform(t,e,void 0,void 0,void 0,void 0)},e.prototype.plainToInstance=function(e,t,r){return new Z(J.PLAIN_TO_CLASS,te(te({},ee),r)).transform(void 0,t,e,void 0,void 0,void 0)},e.prototype.plainToClassFromExist=function(e,t,r){return new Z(J.PLAIN_TO_CLASS,te(te({},ee),r)).transform(e,t,void 0,void 0,void 0,void 0)},e.prototype.instanceToInstance=function(e,t){return new Z(J.CLASS_TO_CLASS,te(te({},ee),t)).transform(void 0,e,void 0,void 0,void 0,void 0)},e.prototype.classToClassFromExist=function(e,t,r){return new Z(J.CLASS_TO_CLASS,te(te({},ee),r)).transform(t,e,void 0,void 0,void 0,void 0)},e.prototype.serialize=function(e,t){return JSON.stringify(this.instanceToPlain(e,t))},e.prototype.deserialize=function(e,t,r){var n=JSON.parse(t);return this.plainToInstance(e,n,r)},e.prototype.deserializeArray=function(e,t,r){var n=JSON.parse(t);return this.plainToInstance(e,n,r)},e}());const ne=e=>{switch(e.___serialization_type){case ce.typeName:return new ce(e.value);case he.typeName:return new he(e.value);case ge.typeName:return new ge(e.value);case _e.typeName:return new _e;case le.typeName:return new le(e.value);case fe.typeName:return new fe(e.value.map((e=>ne(e))));case ye.typeName:return new ye(e.value.map((e=>ne(e))));case me.typeName:return new me(e.value);case ve.typeName:return new ve(e.value);case ue.typeName:return new ue(e.value,e.obj);case de.typeName:{const t=Object.keys(e.value),r=new Map;for(const n of t)r.set(n,ne(e.value[n]));return new de(r)}default:throw new o(`No such value type: ${e.___serialization_type}`)}},ie=()=>{return e=({value:e,obj:t})=>{if(Array.isArray(e))return e.map((e=>ne(e)));if(e instanceof Map){const t=Array.from(e,(([e,t])=>[e,ne(t)]));return new Map(t)}throw new o("Cannot transform such type: "+typeof e)},void 0===(t={toClassOnly:!0})&&(t={}),function(r,n){Q.addTransformMetadata({target:r.constructor,propertyName:n,transformFn:e,options:t})};var e,t};class se{name;args;body;constructor(e,t,r){this.name=e,this.args=t,this.body=r}}function oe(e){return function(t,r,n){const i=n.value,s=ae[r]||r;return n.value=function(...t){if(0==t.length)throw new o("Method must at least one argument in "+s);const r=t[0],n=t.slice(1);if("number"!=typeof r)throw new o("First argument must be a number");let a=0;for(let t=0;t<e.args.length;t++){if(!(n[a]instanceof e.args[t]))throw new y(r,e.args[t].typeName,n[a].typeName,`${s} used with an invalid type.`);a++}if(e.optionals)for(let t=0;t<e.optionals.length&&!(a>=n.length);t++){if(!(n[a]instanceof e.optionals[t]))throw new y(r,e.optionals[t].typeName,n[a].typeName,`${s} used with an invalid type.`);a++}if(e.infinite)for(let t=a;t<n.length;t++)if(!(n[t]instanceof e.infinite))throw new y(r,e.infinite.typeName,n[t],`${s} used with an invalid type.`);if(a<n.length)throw new h(r,s,a,n.length);return i.apply(this,arguments)},Reflect.defineMetadata("method",{...Reflect.getMetadata(r,t),isMemberMethod:!0},t,r),n}}K([Y((()=>Te)),H("design:type",Array)],se.prototype,"body",void 0);const ae={__add__:"+",__sub__:"-",__mul__:"*",__div__:"/",__mod__:"%",__pow__:"**",__lt__:"<",__lte__:"<=",__gt__:">",__gte__:">=",__neg__:"-",__not__:"!",__len__:"len",__and__:"&&",__or__:"||",__inc__:"++",__dec__:"--",__getitem__:"__getitem__",__setitem__:"__setitem__",__extend__:"__extend__",__delitem__:"__delitem__"};class pe{value;static typeName="value";get typeName(){return this.constructor.typeName}___serialization_type;getMemberMethodValue(e){if(!this[e])return;return Reflect.getMetadata("method",this.constructor.prototype,e)?.isMemberMethod||!1?new ue(e,this):void 0}constructor(e){this.value=e,this.___serialization_type=this.typeName}__add__(e,...t){throw new f(e,"+",this.typeName)}__sub__(e,...t){throw new f(e,"-",this.typeName)}__mul__(e,...t){throw new f(e,"*",this.typeName)}__div__(e,...t){throw new f(e,"/",this.typeName)}__mod__(e,...t){throw new f(e,"%",this.typeName)}__pow__(e,...t){throw new f(e,"**",this.typeName)}__lt__(e,...t){throw new f(e,"<",this.typeName)}__lte__(e,...t){throw new f(e,"<=",this.typeName)}__gt__(e,...t){throw new f(e,">",this.typeName)}__gte__(e,...t){throw new f(e,">=",this.typeName)}__neg__(e,...t){throw new f(e,"-",this.typeName)}__not__(e,...t){throw new f(e,"!",this.typeName)}__len__(e,...t){throw new f(e,"len",this.typeName)}__and__(e,...t){throw new f(e,"&&",this.typeName)}__or__(e,...t){throw new f(e,"||",this.typeName)}__inc__(e,...t){throw new f(e,"++",this.typeName)}__dec__(e,...t){throw new f(e,"--",this.typeName)}__getitem__(e,...t){throw new f(e,"getitem",this.typeName)}__setitem__(e,...t){throw new f(e,"setitem",this.typeName)}__extend__(e,...t){return this.__add__(e,...t)}__delitem__(e,...t){throw new f(e,"delitem",this.typeName)}__repr__(e,...t){return new he(this.repr)}__str__(e,...t){return new he(this.str)}__eq__(e,...t){return new ce(this.equals(t[0]))}__neq__(e,...t){return new ce(!this.equals(t[0]))}__type__(e,...t){return new he(this.typeName)}}K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],pe.prototype,"__repr__",null),K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],pe.prototype,"__str__",null),K([oe({args:[pe]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],pe.prototype,"__eq__",null),K([oe({args:[pe]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],pe.prototype,"__neq__",null),K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],pe.prototype,"__type__",null);class ue extends pe{static typeName="member_method";obj;constructor(e,t){super(e),this.obj=t}resolve(){return[this.obj,this.value]}get repr(){return`<member_function ${this.obj.typeName}::${this.value}>`}get str(){return this.repr}equals(e){return e instanceof ue&&this.value===e.value}}K([ie(),Y((()=>pe)),H("design:type",pe)],ue.prototype,"obj",void 0);class ce extends pe{static typeName="boolean";constructor(e){super(e)}get repr(){return this.value?"true":"false"}get str(){return this.value?"true":"false"}equals(e){return e instanceof ce&&this.value===e.value}__and__(e,...t){return new ce(this.value&&t[0].value)}__or__(e,...t){return new ce(this.value||t[0].value)}__not__(e,...t){return new ce(!this.value)}}K([oe({args:[ce]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],ce.prototype,"__and__",null),K([oe({args:[ce]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],ce.prototype,"__or__",null),K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],ce.prototype,"__not__",null);class le extends pe{static typeName="number";constructor(e){super(e)}get repr(){return this.value.toString()}get str(){return this.value.toString()}equals(e){return e instanceof le&&this.value===e.value}__add__(e,...t){return new le(this.value+t[0].value)}__sub__(e,...t){return new le(this.value-t[0].value)}__mul__(e,...t){return new le(this.value*t[0].value)}__div__(e,...t){if(0===t[0].value)throw new v(e);return new le(this.value/t[0].value)}__mod__(e,...t){return new le(this.value%t[0].value)}__pow__(e,...t){return new le(this.value**t[0].value)}__lt__(e,...t){return new ce(this.value<t[0].value)}__lte__(e,...t){return new ce(this.value<=t[0].value)}__gt__(e,...t){return new ce(this.value>t[0].value)}__gte__(e,...t){return new ce(this.value>=t[0].value)}__neg__(e,...t){return new le(-this.value)}__inc__(e,...t){return new le(this.value+1)}__dec__(e,...t){return new le(this.value-1)}}K([oe({args:[le]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],le.prototype,"__add__",null),K([oe({args:[le]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],le.prototype,"__sub__",null),K([oe({args:[le]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],le.prototype,"__mul__",null),K([oe({args:[le]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],le.prototype,"__div__",null),K([oe({args:[le]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],le.prototype,"__mod__",null),K([oe({args:[le]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],le.prototype,"__pow__",null),K([oe({args:[le]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],le.prototype,"__lt__",null),K([oe({args:[le]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],le.prototype,"__lte__",null),K([oe({args:[le]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],le.prototype,"__gt__",null),K([oe({args:[le]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],le.prototype,"__gte__",null),K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],le.prototype,"__neg__",null),K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],le.prototype,"__inc__",null),K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],le.prototype,"__dec__",null);class he extends pe{static typeName="string";constructor(e){super(e)}get repr(){return`"${this.value}"`}get str(){return this.value}equals(e){return e instanceof he&&this.value===e.value}__add__(e,...t){return new he(this.value+t[0].value)}__extend__(e,...t){return new he(this.value+t[0].value)}__lte__(e,...t){return new ce(this.value<t[0].value)}__le__(e,...t){return new ce(this.value<=t[0].value)}__gte__(e,...t){return new ce(this.value>t[0].value)}__ge__(e,...t){return new ce(this.value>=t[0].value)}__len__(e,...t){return new le(this.value.length)}__getitem__(e,...t){if(t[0].value<0||t[0].value>=this.value.length)throw new m(e);return new he(this.value[t[0].value])}__contains__(e,...t){return new ce(this.value.includes(t[0].value))}split(e,...t){return new fe(this.value.split(t[0]?t[0].value:" ").map((e=>new he(e))))}lower(e,...t){return new he(this.value.toLowerCase())}upper(e,...t){return new he(this.value.toUpperCase())}trim(e,...t){return new he(this.value.trim())}replace(e,...t){return new he(this.value.replaceAll(t[0].value,t[1].value))}reverse(e,...t){return new he(this.value.split("").reverse().join(""))}contains(e,...t){return new ce(this.value.includes(t[0].value))}}K([oe({args:[he]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],he.prototype,"__add__",null),K([oe({args:[he]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],he.prototype,"__extend__",null),K([oe({args:[he]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],he.prototype,"__lte__",null),K([oe({args:[he]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],he.prototype,"__le__",null),K([oe({args:[he]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],he.prototype,"__gte__",null),K([oe({args:[he]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],he.prototype,"__ge__",null),K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],he.prototype,"__len__",null),K([oe({args:[le]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],he.prototype,"__getitem__",null),K([oe({args:[he]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],he.prototype,"__contains__",null),K([oe({args:[],optionals:[he]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],he.prototype,"split",null),K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],he.prototype,"lower",null),K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],he.prototype,"upper",null),K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],he.prototype,"trim",null),K([oe({args:[he,he]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],he.prototype,"replace",null),K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],he.prototype,"reverse",null),K([oe({args:[he]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],he.prototype,"contains",null);class fe extends pe{static typeName="list";constructor(e){super(e)}get repr(){return`[${this.value.map((e=>e.repr)).join(", ")}]`}get str(){return`[${this.value.map((e=>e.repr)).join(", ")}]`}equals(e){return e instanceof fe&&this.value===e.value}__extend__(e,...t){return this.value.push(...t[0].value),this}__add__(e,...t){return new fe(this.value.concat(t[0].value))}__getitem__(e,...t){if(t[0].value<0||t[0].value>=this.value.length)throw new m(e);return this.value[t[0].value]}__setitem__(e,...t){if(t[0].value<0||t[0].value>=this.value.length)throw new m(e);return this.value[t[0].value]=t[1],this}__delitem__(e,...t){const r=1===t.length?t[0].value:this.value.length-1;if(r<0||r>=this.value.length)throw new m(e);const n=this.value[r];return this.value.splice(r,1),n}__contains__(e,...t){return new ce(this.value.some((r=>r.__eq__(e,t[0]))))}__len__(e,...t){return new le(this.value.length)}append(e,...t){return this.value.push(t[0]),this}extend(e,...t){return this.__extend__(e,...t)}reverse(e,...t){return this.value.reverse(),this}insert(e,...t){return this.value.splice(t[0].value,0,t[1]),this}pop(e,...t){return console.log(this.value),this.__delitem__(e,...t)}}K([oe({args:[fe]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],fe.prototype,"__extend__",null),K([oe({args:[fe]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],fe.prototype,"__add__",null),K([oe({args:[le]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],fe.prototype,"__getitem__",null),K([oe({args:[le,pe]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],fe.prototype,"__setitem__",null),K([oe({args:[],optionals:[le]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],fe.prototype,"__delitem__",null),K([oe({args:[pe]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],fe.prototype,"__contains__",null),K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],fe.prototype,"__len__",null),K([oe({args:[pe]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],fe.prototype,"append",null),K([oe({args:[fe]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],fe.prototype,"extend",null),K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],fe.prototype,"reverse",null),K([oe({args:[le,pe]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],fe.prototype,"insert",null),K([oe({args:[],optionals:[le]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],fe.prototype,"pop",null);class ye extends pe{static typeName="tuple";constructor(e){super(e)}get repr(){return`(${this.value.map((e=>e.repr)).join(", ")})`}get str(){return`(${this.value.map((e=>e.repr)).join(", ")})`}equals(e){return e instanceof ye&&this.value===e.value}__getitem__(e,...t){return this.value[t[0].value]}__len__(e){return new le(this.value.length)}}K([oe({args:[le]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],ye.prototype,"__getitem__",null),K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number]),H("design:returntype",pe)],ye.prototype,"__len__",null);class de extends pe{static typeName="dict";constructor(e){super(e)}get repr(){let e="{\n";for(const[t,r]of this.value.entries()){e+=`  "${t}" : ${r.repr.split("\n").map(((e,t)=>0===t?e:"  "+e)).join("\n")},\n`}return e+="}",e}get str(){return this.repr}equals(e){return e instanceof de&&this.value===e.value}__getitem__(e,...t){const r=t[0].value,n=this.value.get(r);if(!n)throw new _(e,r);return n}__setitem__(e,...t){const r=t[0].value,n=t[1];return this.value.set(r,n),new _e}__len__(e,...t){return new le(this.value.size)}__delitem__(e,...t){const r=t[0].value;if(!this.value.has(r))throw new _(e,r);const n=this.value.get(r);if(!this.value.delete(r))throw new _(e,r);return n}__contains__(e,...t){return new ce(this.value.has(t[0].value))}get(e,...t){return this.__getitem__(e,...t)}set(e,...t){return this.__setitem__(e,...t)}values(e,...t){const r=Array.from(this.value.values());return new fe(r)}keys(e,...t){const r=Array.from(this.value.keys()).map((e=>new he(e)));return new fe(r)}pop(e,...t){return this.__delitem__(e,...t)}has(e,...t){return this.__contains__(e,...t)}clear(e,...t){return this.value.clear(),new _e}update(e,...t){for(const[e,r]of t[0].value.entries())this.value.set(e,r);return new _e}}K([oe({args:[he]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],de.prototype,"__getitem__",null),K([oe({args:[he,pe]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],de.prototype,"__setitem__",null),K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],de.prototype,"__len__",null),K([oe({args:[he]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],de.prototype,"__delitem__",null),K([oe({args:[he]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],de.prototype,"__contains__",null),K([oe({args:[he]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],de.prototype,"get",null),K([oe({args:[he,pe]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],de.prototype,"set",null),K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],de.prototype,"values",null),K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],de.prototype,"keys",null),K([oe({args:[he]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],de.prototype,"pop",null),K([oe({args:[he]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],de.prototype,"has",null),K([oe({args:[]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],de.prototype,"clear",null),K([oe({args:[de]}),H("design:type",se),H("design:paramtypes",[Number,pe]),H("design:returntype",pe)],de.prototype,"update",null);class ve extends pe{static typeName="function";constructor(e){super(e)}get repr(){return`<function ${this.value.name}>`}get str(){return`<function ${this.value.name}>`}equals(e){return e instanceof ve&&this.value===e.value}}class ge extends pe{static typeName="native_function";constructor(e){super(e)}get repr(){return`<native ${this.value}>`}get str(){return`<native ${this.value}>`}equals(e){return e instanceof ge&&this.value===e.value}}class me extends pe{static typeName="syscall";constructor(e){super(e)}get repr(){return`<syscall ${this.value}>`}get str(){return`<syscall ${this.value}>`}equals(e){return e instanceof me&&this.value===e.value}}class _e extends pe{static typeName="null";constructor(){super(null)}get repr(){return"null"}get str(){return"null"}equals(e){return e instanceof _e}}const be={number:{function:(e,t)=>{const r=t[0].value;if(isNaN(Number(r)))throw new g(e,`Cannot parse ${r} as number`);return new le(parseFloat(r))},args:1},random:{function:e=>new le(Math.random()),args:0},bool:{function:(e,t)=>{const r=t[0].value;if("true"!==r&&"false"!==r&&"1"!==r&&"0"!==r&&1!==r&&0!==r)throw new y(e,ce.typeName,r.type);return new ce("true"===r||"1"===r||1===r)},args:1},str:{function:(e,t)=>{const r=t.at(0);if(!r)throw new h(e,"str",1,0);return r.__str__(e,...t.slice(1))},args:1},len:{function:(e,t)=>{const r=t[0];if(!r)throw new h(e,"len",1,0);return r.__len__(e,...t.slice(1))},args:1},type:{function:(e,t)=>{const r=t[0];if(!r)throw new h(e,"type",1,0);return r.__type__(e,...t.slice(1))},args:1}},we={syscall:{syscallId:"is.melon.syscall",preprocessor:(e,t)=>{if(e.length<2)throw new l(t,"syscall",2,e.length);if(!(e[0]instanceof he))throw new y(t,he.typeName,e[0].typeName,"First argument of syscall (syscall id) must be a string");return e}},print:{syscallId:"is.workflow.actions.showresult",preprocessor:(e,t)=>[new he(e.map((e=>e.str)).join(" "))]},input:{syscallId:"is.workflow.actions.prompt",preprocessor:(e,t)=>{if(e.length>1)throw new l(t,"input",1,e.length);if(1===e.length&&!(e[0]instanceof he))throw new y(t,he.typeName,e[0].typeName,"First argument of input must be a string.");return e}},exit:{syscallId:"is.workflow.actions.stop",preprocessor:(e,t)=>{if(e.length>1)throw new l(t,"exit",1,e.length);return 1===e.length?[new he(e[0].str)]:[new he("")]}},tts:{syscallId:"is.workflow.actions.speaktext",preprocessor:(e,t)=>[new he(e.map((e=>e.str)).join(" "))]},stt:{syscallId:"is.workflow.actions.dictatetext",preprocessor:(e,t)=>{if(e.length<1||e.length>2)throw new l(t,"stt",2,e.length);if(!(e[0]instanceof ce))throw new y(t,ce.typeName,e[0].typeName,"First argument of stt must be a boolean.");if(!0===e[0].value)return[new he("On Tap")];if(2!=e.length)return[new he("After Pause")];if(!(e[1]instanceof ce))throw new y(t,ce.typeName,e[1].typeName,"Second argument of stt must be a boolean.");return!0===e[1].value?[new he("After Short Pause")]:[new he("After Pause")]}},alert:{syscallId:"is.workflow.actions.alert",preprocessor:(e,t)=>{if(e.length<1||e.length>3)throw new l(t,"alert",3,e.length);let r=e[0].str,n="",i=!0;if(e.length>1&&(n=e[1].str,e.length>2)){if(!(e[2]instanceof ce))throw new y(t,ce.typeName,e[2].typeName,"Thrid argument of alert must be a boolean.");i=e[2].value}return[new he(r),new he(n),new ce(i)]}},choose:{syscallId:"is.workflow.actions.choosefromlist",preprocessor:(e,t)=>{if(e.length<1||e.length>3)throw new l(t,"choose",3,e.length);if(!(e[0]instanceof fe||e[0]instanceof ye))throw new d(t,[fe.typeName,ye.typeName],e[0].typeName,"First argument of choose must be a list or tuple.");let r=e[0].value.map((e=>e.str)),n="",i=!1;if(e.length>1&&(n=e[1].str,e.length>2)){if(!(e[2]instanceof ce))throw new y(t,ce.typeName,e[2].typeName,"Thrid argument of choose must be a boolean.");i=e[2].value}return[new he(r),new he(n),new ce(i)]}},define:{syscallId:"is.workflow.actions.showdefinition",preprocessor:(e,t)=>{if(1!=e.length)throw new l(t,"define",1,e.length);let r=e[0].str;if(r.trim,r.includes(" "))throw new g(t,`First argument of define must be a single word. Expected 1 word but got ${r.split(" ").length} words`);return new he(r)}},emojiName:{syscallId:"is.workflow.actions.getnameofemoji",preprocessor:(e,t)=>{if(1!=e.length)throw new l(t,"emojiName",1,e.length);if(!(e[0]instanceof he))throw new y(t,he.typeName,e[0].typeName,"First argument of emojiName must be a string.");let r=e[0].value.match(/[\p{Extended_Pictographic}\u{1F3FB}-\u{1F3FF}\u{1F9B0}-\u{1F9B3}]/u);if(!r||1!=r.length)throw new g(t,`First argument of emojiName must be a single emoji. Expected 1 emoji but got ${r?r.length:"no"} emojis`);return new he(r.at(0))}}};var Ne,Oe;!function(e){e.PUSH="push",e.POP="pop",e.ADD="add",e.SUB="sub",e.MUL="mul",e.DIV="div",e.LT="lt",e.GT="gt",e.LTE="lte",e.GTE="gte",e.EQ="eq",e.GTEQ="gteq",e.NEQ="neq",e.AND="and",e.OR="or",e.NOT="not",e.JUMP="jump",e.JUMPF="jumpf",e.JUMPT="jumpt",e.JUMPTF="jumptf",e.LOAD="load",e.STORE="store",e.CALL="call",e.RET="ret",e.HALT="halt",e.PRINT="print",e.INPUT="input",e.SYSCALL="syscall",e.DATA="data",e.INC="inc",e.DEC="dec",e.NEG="neg",e.COPY="copy",e.SETGL="setgl",e.DECLAREGL="declaregl",e.LOADGL="loadgl",e.NATIVE="native",e.NOP="nop",e.MOD="MOD",e.MAKE_TUPLE="make_tuple",e.MAKE_LIST="make_list",e.MAKE_DICT="make_dict",e.SUBSCRIPT="subscript",e.STORE_SUBSCRIPT="store_subscript",e.MEMBER_ACCESS="member_access",e.POW="POW"}(Ne||(Ne={}));class Se extends Array{pop(){if(0===this.length)throw new o("Stack underflow. There is nothing to pop from the VM stack.");return super.pop()}}class Te{type;lineNumber;value;constructor(e,t,r){this.type=e,this.lineNumber=t,this.value=r}}K([ie(),Y((()=>pe)),H("design:type",Array)],class{text;data;names;constructor(e,t,r=[]){this.text=e,this.data=t,this.names=r}}.prototype,"data",void 0);class Ee{ip;stack;text;constructor(e,t,r){this.ip=e,this.stack=new Se,t&&this.stack.push(...t),this.text=r}}K([Y((()=>pe)),ie(),H("design:type",Se)],Ee.prototype,"stack",void 0),K([Y((()=>Te)),H("design:type",Array)],Ee.prototype,"text",void 0),function(e){e.RUNNING="running",e.HALTED="halted",e.ERROR="error",e.SYSCALL="syscall"}(Oe||(Oe={}));class ke{name;args;constructor(e="",t=[]){this.name=e,this.args=t}}K([ie(),Y((()=>pe)),H("design:type",Array)],ke.prototype,"args",void 0);class xe{data;names;frames;globals;syscall=void 0;get halted(){return 0===this.frames.length}get ip(){return this.frames[this.frames.length-1].ip}set ip(e){this.frames[this.frames.length-1].ip=e}get stack(){return this.frames[this.frames.length-1].stack}get text(){return this.frames[this.frames.length-1].text}run(e=1/0){const t=Date.now();for(;Date.now()-t<e&&this.frames.length>0&&!this.syscall;){const e=this.text[this.ip];if(this.execute(e),this.ip++,this.ip>=this.text.length&&(this.frames.pop(),0===this.frames.length))break}return this.serialize(this.syscall?Oe.SYSCALL:0===this.frames.length?Oe.HALTED:Oe.RUNNING,this.syscall)}execute(e){const{type:t,value:r=0,lineNumber:n}=e;switch(t){case Ne.PUSH:this.stack.push(this.data[r]);break;case Ne.POP:this.stack.pop();break;case Ne.OR:{const e=this.stack.pop(),t=this.stack.pop().__or__(n,e);this.stack.push(t);break}case Ne.AND:{const e=this.stack.pop(),t=this.stack.pop().__and__(n,e);this.stack.push(t);break}case Ne.ADD:{const e=this.stack.pop(),t=this.stack.pop();let i;if(0===r)i=t.__add__(n,e);else{if(1!==r)throw new o("ADD instruction can only get 0 or 1 as value");i=t.__extend__(n,e)}this.stack.push(i);break}case Ne.SUB:{const e=this.stack.pop(),t=this.stack.pop().__sub__(n,e);this.stack.push(t);break}case Ne.MUL:{const e=this.stack.pop(),t=this.stack.pop().__mul__(n,e);this.stack.push(t);break}case Ne.DIV:{const e=this.stack.pop(),t=this.stack.pop().__div__(n,e);this.stack.push(t);break}case Ne.MOD:{const e=this.stack.pop(),t=this.stack.pop().__mod__(n,e);this.stack.push(t);break}case Ne.POW:{const e=this.stack.pop(),t=this.stack.pop().__pow__(n,e);this.stack.push(t);break}case Ne.LT:{const e=this.stack.pop(),t=this.stack.pop().__lt__(n,e);this.stack.push(t);break}case Ne.GT:{const e=this.stack.pop(),t=this.stack.pop().__gt__(n,e);this.stack.push(t);break}case Ne.LTE:{const e=this.stack.pop(),t=this.stack.pop().__lte__(n,e);this.stack.push(t);break}case Ne.GTE:{const e=this.stack.pop(),t=this.stack.pop().__gte__(n,e);this.stack.push(t);break}case Ne.EQ:{const e=this.stack.pop(),t=this.stack.pop().__eq__(n,e);this.stack.push(t);break}case Ne.NEQ:{const e=this.stack.pop(),t=this.stack.pop().__neq__(n,e);this.stack.push(t);break}case Ne.JUMP:this.ip=r-1;break;case Ne.JUMPF:this.stack.pop().value||(this.ip=r-1);break;case Ne.JUMPT:this.stack.pop().value&&(this.ip=r-1);break;case Ne.CALL:{const e=[];for(let t=0;t<r;t++)e.unshift(this.stack.pop());const t=this.stack.pop();if(t instanceof ge){const i=be[t.value];if(void 0===i)throw new o(`Native function ${t.value} is not defined`);if(i.args!==r)throw new h(n,t.value,i.args,r);const s=i.function(n,e);this.stack.push(s)}else if(t instanceof ve){if(t.value.args.length!==r)throw new c(n,t.value.name,t.value.args.length,r);e.unshift(t),this.frames.push(new Ee(-1,e,t.value.body))}else if(t instanceof me){let r=t.value;const i=we[r];if(void 0===i)throw new o(`Syscall ${r} is not defined`);let s=i.syscallId;const a=i.preprocessor(e,n);if("syscall"===r){if(!(a[0]instanceof he))throw new y(n,he.typeName,a[0].typeName,"Syscall name must be a string");s=a.shift().value}this.syscall=new ke(s,a)}else{if(!(t instanceof ue))throw new y(n,ve.typeName,t.typeName,`Cannot call non-function ${t.value}`);{const[r,i]=t.resolve(),s=r[i](n,...e);this.stack.push(s)}}break}case Ne.RET:1===r?this.frames.at(-2).stack.push(this.stack.pop()):this.frames.at(-2).stack.push(new _e),this.frames.pop();break;case Ne.DATA:this.stack.push(this.data[r]);break;case Ne.STORE:this.stack[r]=this.stack.at(-1);break;case Ne.LOAD:this.stack.push(this.stack[r]);break;case Ne.DECLAREGL:{const e=this.data[r].value;if(this.globals.has(e))throw new p(n,e);this.globals.set(e,this.stack.pop());break}case Ne.LOADGL:{const e=this.data[r].value;if(!this.globals.has(e))throw new a(n,e);this.stack.push(this.globals.get(e));break}case Ne.SETGL:{const e=this.data[r].value;if(!this.globals.has(e))throw new a(n,e);this.globals.set(e,this.stack.at(-1));break}case Ne.NEG:{const e=this.stack.pop().__neg__(n);this.stack.push(e);break}case Ne.INC:{const e=this.stack.pop().__inc__(n);this.stack.push(e);break}case Ne.DEC:{const e=this.stack.pop().__dec__(n);this.stack.push(e);break}case Ne.COPY:{const e=this.stack.pop();this.stack.push(e),this.stack.push(e);break}case Ne.MAKE_TUPLE:{const e=[];for(let t=0;t<r;t++)e.unshift(this.stack.pop());this.stack.push(new ye(e));break}case Ne.MAKE_LIST:{const e=[];for(let t=0;t<r;t++)e.unshift(this.stack.pop());this.stack.push(new fe(e));break}case Ne.MAKE_DICT:{const e=this.stack.pop(),t=new Map;for(let r of e.value){const e=this.stack.pop();t.set(r.value,e)}const r=new de(t);this.stack.push(r);break}case Ne.SUBSCRIPT:{const e=this.stack.pop(),t=this.stack.pop().__getitem__(n,e);this.stack.push(t);break}case Ne.STORE_SUBSCRIPT:{const e=this.stack.pop(),t=this.stack.pop().__setitem__(n,e,this.stack.pop());this.stack.push(t);break}case Ne.NOT:{const e=this.stack.pop().__not__(n);this.stack.push(e);break}case Ne.MEMBER_ACCESS:{const e=this.stack.pop(),t=this.names.at(r),i=e.getMemberMethodValue(t);if(!i)throw new b(n,e.repr,t);this.stack.push(i);break}case Ne.NOP:break;default:throw new o(`Unknown opcode ${t}`)}}defineNatives(){for(const[e,t]of Object.entries(be))this.globals.set(e,new ge(e))}defineSyscalls(){for(const[e,t]of Object.entries(we))this.globals.set(e,new me(e))}serialize(e=Oe.RUNNING,t){return{state:btoa((r=this,re.serialize(r,n))),status:e,syscall:t};var r,n}static deserialize(e,t){const r=(n=xe,i=atob(e.state),re.deserialize(n,i,s));var n,i,s;return e.status===Oe.SYSCALL&&void 0!==t&&r.frames.at(-1).stack.push(t),r.syscall=void 0,r}static create(e){const t=new xe;return t.data=e.data,t.names=e.names,t.frames=[new Ee(0,[],e.text)],t.globals=new Map,t.defineNatives(),t.defineSyscalls(),t}}K([ie(),Y((()=>pe)),H("design:type",Array)],xe.prototype,"data",void 0),K([Y((()=>Ee)),H("design:type",Array)],xe.prototype,"frames",void 0),K([ie(),Y((()=>pe)),H("design:type",Map)],xe.prototype,"globals",void 0);class Ae{ast;program;locals=[];depth=0;breaks=[];continues=[];constructor(e,t,r,n){this.ast=e,this.program={text:[],data:r||[],names:n||[]},this.locals=t||[]}run(){for(const e of this.ast)this.codegen(e);return this.program}codegen(e){if(e instanceof T)this.literal(e);else if(e instanceof k)this.call(e);else if(e instanceof D)this.return(e);else if(e instanceof E)this.identifier(e);else if(e instanceof I)this.binaryOperation(e);else if(e instanceof A)this.unaryOperation(e);else if(e instanceof F)this.variableAssignment(e);else if(e instanceof U)this.variableDeclaration(e);else if(e instanceof x)this.block(e);else if(e instanceof j)this.if(e);else if(e instanceof P)this.while(e);else if(e instanceof L)this.for(e);else if(e instanceof R)this.function(e);else if(e instanceof G)this.expressionStatement(e);else if(e instanceof z)this.empty(e);else if(e instanceof M)this.break(e);else if(e instanceof C)this.continue(e);else if(e instanceof B)this.tuple(e);else if(e instanceof $)this.list(e);else if(e instanceof q)this.subscript(e);else if(e instanceof O)this.memberAccess(e);else{if(!(e instanceof V))throw new o(`Unknown node type ${e.constructor.name}`);this.dict(e)}}dict(e){const t=Array.from(e.entries.keys());for(let r=0;r<t.length;r++)this.codegen(e.entries.get(t.at(-1-r)));const r=t.map((e=>new he(e)));this.program.data.push(new ye(r)),this.emitText(Ne.DATA,e.lineNumber,this.program.data.length-1),this.emitText(Ne.MAKE_DICT,e.lineNumber)}list(e){for(const t of e.elements)this.codegen(t);this.emitText(Ne.MAKE_LIST,e.lineNumber,e.elements.length)}tuple(e){for(const t of e.elements)this.codegen(t);this.emitText(Ne.MAKE_TUPLE,e.lineNumber,e.elements.length)}continue(e){if(0===this.continues.length)throw new s(e.lineNumber,"Continue statement outside of loop");const t=this.emitText(Ne.JUMP,e.lineNumber);this.continues[this.continues.length-1].push(t)}break(e){if(0===this.breaks.length)throw new s(e.lineNumber,"Break statement outside of loop");const t=this.emitText(Ne.JUMP,e.lineNumber);this.breaks[this.breaks.length-1].push(t)}empty(e){this.emitText(Ne.NOP,e.lineNumber)}literal(t){const r=t.value.value;let n;if(t.value.type===e.NUMBER)n=new le(parseFloat(r));else if(t.value.type===e.STRING)n=new he(r);else if(t.value.type===e.TRUE)n=new ce(!0);else if(t.value.type===e.FALSE)n=new ce(!1);else{if(t.value.type!==e.NULL)throw new o(`Unknown literal type ${t.value.type}`);n=new _e}this.program.data.push(n),this.emitText(Ne.DATA,t.lineNumber,this.program.data.length-1)}call(e){this.codegen(e.func);for(const t of e.args)this.codegen(t);this.emitText(Ne.CALL,e.lineNumber,e.args.length)}memberAccess(e){this.codegen(e.object),this.program.names.push(e.name.value),this.emitText(Ne.MEMBER_ACCESS,e.lineNumber,this.program.names.length-1)}return(e){e.value&&this.codegen(e.value),this.emitText(Ne.RET,e.lineNumber,e.value?1:0)}expressionStatement(e){this.codegen(e.expression),this.emitText(Ne.POP,e.lineNumber)}identifier(e){this.loadVariable(e.name.value,e)}unaryOperation(t){const r=t.op.type;let n;if(r===e.MINUS)n=Ne.NEG;else if(r===e.NOT)n=Ne.NOT;else if(r===e.INC)n=Ne.INC;else{if(r!==e.DEC)throw new o(`Unknown unary operator ${r}`);n=Ne.DEC}if(n===Ne.INC||n===Ne.DEC){if(!(t.rand instanceof E))throw new s(t.lineNumber,`Invalid operand ${t.rand} for ${r}`);this.loadVariable(t.rand.name.value,t),t.prefix||this.emitText(Ne.COPY,t.lineNumber),this.emitText(n,t.lineNumber),this.assignVariable(t.rand.name.value,t),t.prefix||this.emitText(Ne.POP,t.lineNumber)}else this.codegen(t.rand),this.emitText(n,t.lineNumber)}binaryOperation(t){this.codegen(t.lhs),this.codegen(t.rhs);const r=t.op.type;let n;if(r===e.PLUS)n=Ne.ADD;else if(r===e.MINUS)n=Ne.SUB;else if(r===e.MUL)n=Ne.MUL;else if(r===e.DIV)n=Ne.DIV;else if(r===e.EQ)n=Ne.EQ;else if(r===e.NEQ)n=Ne.NEQ;else if(r===e.LT)n=Ne.LT;else if(r===e.LTE)n=Ne.LTE;else if(r===e.GT)n=Ne.GT;else if(r===e.GTE)n=Ne.GTE;else if(r===e.AND)n=Ne.AND;else if(r===e.OR)n=Ne.OR;else if(r===e.MOD)n=Ne.MOD;else{if(r!==e.POW)throw new o(`Unknown binary operator ${r}`);n=Ne.POW}this.emitText(n,t.lineNumber,0)}subscript(e){this.codegen(e.name),this.codegen(e.key),this.emitText(Ne.SUBSCRIPT,e.lineNumber)}variableAssignment(t){if(t.op.type!==e.ASSIGN&&this.codegen(t.name),this.codegen(t.value),t.op.type!==e.ASSIGN)switch(t.op.type){case e.PLUS_ASSIGN:this.emitText(Ne.ADD,t.lineNumber,1);break;case e.MINUS_ASSIGN:this.emitText(Ne.SUB,t.lineNumber,1);break;case e.MUL_ASSIGN:this.emitText(Ne.MUL,t.lineNumber,1);break;case e.DIV_ASSIGN:this.emitText(Ne.DIV,t.lineNumber,1);break;case e.MOD_ASSIGN:this.emitText(Ne.MOD,t.lineNumber,1);break;case e.POW_ASSIGN:this.emitText(Ne.POW,t.lineNumber,1);break;default:throw new o(`Unknown assignment operator ${t.op.type}`)}if(t.name instanceof E)this.assignVariable(t.name.name.value,t);else{if(!(t.name instanceof q))throw new s(t.lineNumber,`Cannot assign to ${t.name}`);this.codegen(t.name.name),this.codegen(t.name.key),this.emitText(Ne.STORE_SUBSCRIPT,t.name.lineNumber)}}variableDeclaration(e){this.codegen(e.value);const t=e.name.value;this.declareVariable(t,e)}block(e){this.depth++;for(const t of e.nodes)this.codegen(t);this.depth--;for(let t=this.locals.length-1;t>=0&&!(this.locals[t].depth<=this.depth);t--)this.emitText(Ne.POP,e.lineNumber),this.locals.pop()}if(e){this.codegen(e.condition);const t=new Te(Ne.JUMPF,e.lineNumber);if(this.program.text.push(t),this.codegen(e.then),t.value=this.program.text.length,e.else){const r=new Te(Ne.JUMP,e.lineNumber);this.program.text.push(r),t.value++,this.codegen(e.else),r.value=this.program.text.length}}while(e){this.breaks.push([]),this.continues.push([]);const t=this.program.text.length;this.codegen(e.condition);const r=new Te(Ne.JUMPF,e.lineNumber);this.program.text.push(r),this.codegen(e.body);const n=new Te(Ne.JUMP,e.lineNumber,t);this.program.text.push(n),r.value=this.program.text.length;const i=this.breaks.pop(),s=this.continues.pop();for(const e of i)e.value=this.program.text.length;for(const e of s)e.value=t}for(e){this.breaks.push([]),this.continues.push([]),this.codegen(e.init);const t=this.program.text.length;this.codegen(e.condition);const r=new Te(e.condition instanceof z?Ne.NOP:Ne.JUMPF,e.lineNumber);this.program.text.push(r),this.codegen(e.body);const n=this.program.text.length;this.codegen(e.update);const i=new Te(Ne.JUMP,e.lineNumber,t);this.program.text.push(i),r.value=this.program.text.length;const s=this.breaks.pop(),o=this.continues.pop();for(const e of s)e.value=this.program.text.length;for(const e of o)e.value=n}function(e){const t={body:[],args:e.params.map((e=>e.value)),name:e.name.value};this.program.data.push(new ve(t));const r=this.program.data.length-1,n=[{name:e.name.value,depth:0}];e.params.length>0&&n.push(...e.params.map((e=>({name:e.value,depth:1}))));const i=new Ae([e.body],n,this.program.data,this.program.names).run();t.body=i.text,t.body.push(new Te(Ne.RET,e.lineNumber,0)),this.emitText(Ne.DATA,e.lineNumber,r),this.declareVariable(e.name.value,e)}loadVariable(e,t){for(let r=this.locals.length-1;r>=0;r--)if(this.locals[r].name===e)return void this.emitText(Ne.LOAD,t.lineNumber,r);this.program.data.push(new he(e)),this.emitText(Ne.LOADGL,t.lineNumber,this.program.data.length-1)}declareVariable(e,t){if(0===this.depth)this.program.data.push(new he(e)),this.emitText(Ne.DECLAREGL,t.lineNumber,this.program.data.length-1);else{if(-1!==this.locals.findIndex((t=>t.name===e)))throw new u(t.lineNumber,e);this.locals.push({name:e,depth:this.depth})}}assignVariable(e,t){if(0===this.depth)this.program.data.push(new he(e)),this.emitText(Ne.SETGL,t.lineNumber,this.program.data.length-1);else{let r=this.locals.findIndex((t=>t.name===e));-1===r?(this.program.data.push(new he(e)),this.emitText(Ne.SETGL,t.lineNumber,this.program.data.length-1)):this.emitText(Ne.STORE,t.lineNumber,r)}}emitText(e,t,r){const n=new Te(e,t,r);return this.program.text.push(n),n}}const Ie=Ae,Me=(e,t=1/0)=>{const r=(e=>{const t=new w(e).run(),r=new W(t).run();return new Ie(r).run()})(e);return xe.create(r).run(t)};(()=>{const e=(()=>{const e=[...window.location.href.matchAll(/data:text\/html;((?:[^=;]*=[^;]*;)+)base64/g)],t={};return e[0][1].split(";").forEach((e=>{const[r,n]=e.split("=");r&&(t[r]=decodeURIComponent(n))})),t})(),t=e.resume,r=e.begin,n=e.value;try{t?((e,t)=>{const r=JSON.parse(atob(e)),n=xe.deserialize(r,new he(atob(t))).run(150);document.write(btoa(JSON.stringify(n)))})(t,n):r?(e=>{const t=e;if(!t)return void console.log("No source code found in query params.");const r=Me(atob(t),150);document.write(btoa(JSON.stringify(r)))})(r):document.write(btoa(JSON.stringify({error:"No source code found in query params."})))}catch(e){document.write(btoa(JSON.stringify({error:e.message})))}})()})()})()</script></head><body></body></html>